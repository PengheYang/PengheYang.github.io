<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="keywords" content="Gridea静态个人博客">
<meta name="description" content="温故而知新">
<meta name="theme-color" content="#000">
<title>电脑故障维修的通用法则 | 杨鹏赫Blog</title>
<link rel="shortcut icon" href="/favicon.ico?v=1623456781978">
<link rel="stylesheet" href="/media/css/pisces.css">
<link rel="stylesheet" href="/media/fonts/font-awesome.css">
<link
  href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Rosario:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"
  rel="stylesheet" type="text/css">

<link href="/media/hljs/styles/default.css"
  rel="stylesheet">

<link rel="stylesheet" href="/styles/main.css">
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script src="/media/js/jquery.js"></script>
<script src="/media/hljs/highlight.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.0/velocity.ui.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
  integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">


<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
  integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
  integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
  onload="renderMathInElement(document.body);"></script>




<script>
  var _hmt = _hmt || [];
  (function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?a015c852529a3429d2fb25d9e8a6188f";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>



  <meta name="description" content="电脑故障维修的通用法则" />
  <meta name="keywords" content="" />
</head>

<body>
  <div class="head-top-line"></div>
  <div class="header-box">
    
<div class="pisces">
  <header class="header  ">
    <div class="blog-header box-shadow-wrapper bg-color " id="header">
      <div class="nav-toggle" id="nav_toggle">
        <div class="toggle-box">
          <div class="line line-top"></div>
          <div class="line line-center"></div>
          <div class="line line-bottom"></div>
        </div>
      </div>
      <div class="site-meta">       
        <div class="site-title">
          
            <a href="/" class="brand">
              <span>杨鹏赫Blog</span>
            </a>  
          
        </div>
        
          <p class="subtitle">精于心，简于形</p>
        
      </div>
      <nav class="site-nav" id="site_nav">
        <ul id="nav_ul">
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/" target="_self">
                  <i class="fa fa-home"></i> 首页
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/archives/" target="_self">
                  <i class="fa fa-archive"></i> 归档
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="/tags/" target="_self">
                  <i class="fa fa-tags"></i> 标签
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="about/" target="_blank">
                  <i class="fa fa-globe"></i> 关于
                </a>
              
            </li>
          
            
            
              
            
            <li class="nav-item ">
              
              
                <a href="xmorse/" target="_self">
                  <i class="fa fa-globe"></i> Morse
                </a>
              
            </li>
          
          
            
              <li class="nav-item ">
                <a href="/friends/" target="_self">
                  
                    <i class="fa fa-address-book"></i> 友情链接
                  
                </a>
              </li>
            
          
          
            <li id="fa_search" class="nav-item">
              <a href="javascript:void(0);">
                <i class="fa fa-search"></i> <span class="language" data-lan="search">搜索</span>
              </a>
            </li>
          
        </ul>
      </nav>
    </div>
  </header>
</div>

<script type="text/javascript"> 
 
  let showNav = true;

  let navToggle = document.querySelector('#nav_toggle'),
  siteNav = document.querySelector('#site_nav');
  
  function navClick() {
    let sideBar = document.querySelector('.sidebar');
    let navUl = document.querySelector('#nav_ul');
    navToggle.classList.toggle('nav-toggle-active');
    siteNav.classList.toggle('nav-menu-active');
    if (siteNav.classList.contains('nav-menu-active')) {
      siteNav.style = "height: " + (navUl.children.length * 42) +"px !important";
    } else {
      siteNav.style = "";
    }
  }

  navToggle.addEventListener('click',navClick);  
</script>
  </div>
  <div class="main-continer">
    
    <div
      class="section-layout pisces ">
      <div class="section-layout-wrapper">
        

<div class="sidebar">
  
    <div class="sidebar-box box-shadow-wrapper bg-color right-motion" id="sidebar">
      
        <div class="post-list-sidebar">
          <div class="sidebar-title">
            <span id="tocSideBar" class="sidebar-title-item sidebar-title-active language" data-lan="index">文章目录</span>
            <span id="metaSideBar" class="sidebar-title-item language" data-lan="preview">站点概览</span>
          </div>
        </div>
      
      <div class="sidebar-body pisces" id="sidebar_body">
        
          
            <div class="post-side-meta" id="post_side_meta">
              
<div class="sidebar-wrapper box-shadow-wrapper bg-color">
  <div class="sidebar-item">
    <img class="site-author-image right-motion" src="/images/avatar.png"/>
    <p class="site-author-name">杨鹏赫</p>
    
  </div>
  <div class="sidebar-item side-item-stat right-motion">
    <div class="sidebar-item-box">
      <a href="/archives/">
        
        <span class="site-item-stat-count">25</span>
        <span class="site-item-stat-name language" data-lan="article">文章</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="">
        <span class="site-item-stat-count">2</span>
        <span class="site-item-stat-name language" data-lan="category">分类</span>
      </a>
    </div>
    <div class="sidebar-item-box">
      <a href="/tags/">
        <span class="site-item-stat-count">2</span>
        <span class="site-item-stat-name language" data-lan="tag">标签</span>
      </a>
    </div>
  </div>
  
    
  
  



  <div style="width: 100%; position: relative;">
    <canvas id="canvasDiyBlock" style="width:100%;">当前浏览器不支持canvas，请更换浏览器后再试</canvas>
    <script src="/media/js/magic/clock.js"></script>
  </div>

</div>
            </div>
            <div class="post-toc sidebar-body-active" id="post_toc" style="opacity: 1;">
              <div class="toc-box right-motion">
  <div class="toc-wrapper auto-number auto"
    id="toc_wrapper">
    <ul class="markdownIt-TOC">
<li>
<ul>
<li>
<ul>
<li><a href="#%E5%85%88%E8%BD%AF%E4%BB%B6%E5%90%8E%E7%A1%AC%E4%BB%B6">先软件后硬件</a></li>
<li><a href="#%E5%85%88%E5%A4%96%E8%AE%BE%E5%90%8E%E4%B8%BB%E6%9C%BA">先外设后主机</a></li>
<li><a href="#%E5%85%88%E7%AE%80%E5%8D%95%E5%90%8E%E5%A4%8D%E6%9D%82">先简单后复杂</a></li>
<li><a href="#%E5%85%88%E4%B8%80%E8%88%AC%E5%90%8E%E7%89%B9%E6%AE%8A">先一般后特殊</a></li>
<li><a href="#%E5%85%88%E7%94%B5%E6%BA%90%E5%90%8E%E9%83%A8%E4%BB%B6">先电源后部件</a></li>
<li><a href="#%E5%85%88%E6%B8%85%E6%B4%81%E5%90%8E%E6%A3%80%E4%BF%AE">先清洁后检修</a></li>
<li><a href="#%E6%80%BB%E7%BB%93%E7%94%B5%E8%84%91%E6%95%85%E9%9A%9C%E4%B8%87%E8%83%BD%E5%A4%84%E7%90%86%E8%A7%84%E5%88%99">总结：电脑故障万能处理规则</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
</div>

<script>

  let lastTop = 0, lList = [], hList = [], postBody, lastIndex = -1;
  let active = 'active-show', activeClass = 'active-current';
  let tocWrapper = document.querySelector('#toc_wrapper');
  let tocContent = tocWrapper.children[0];
  let autoNumber = tocWrapper && tocWrapper.classList.contains('auto-number');

  function addTocNumber(elem, deep) {
    if (!elem) {
      return;
    }
    let prop = elem.__proto__;

    if (prop === HTMLUListElement.prototype) {
      for (let i = 0; i < elem.children.length; i++) {
        addTocNumber(elem.children[i], deep + (i + 1) + '.');
      }
    } else if (prop === HTMLLIElement.prototype) {
      // 保存li元素
      if (elem.children[0] && elem.children[0].__proto__ === HTMLAnchorElement.prototype) {
        lList.push(elem);
      }
      for (let i = 0; i < elem.children.length; i++) {
        let cur = elem.children[i];
        if (cur.__proto__ === HTMLAnchorElement.prototype) {
          if (autoNumber) {
            cur.text = deep + ' ' + cur.text;
          }
        } else if (cur.__proto__ === HTMLUListElement.prototype) {
          addTocNumber(cur, deep);
        }
      }
    }
  }

  function removeParentActiveClass() {
    let parents = tocContent.querySelectorAll('.' + active)
    parents.forEach(function (elem) {
      elem.classList.remove(active);
    });
  }

  function addActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.add(activeClass);
    }
  }

  function removeActiveClass(index) {
    if (index >= 0 && index < hList.length) {
      lList[index].classList.remove(activeClass);
    }
  }

  function addActiveLiElemment(elem, parent) {
    if (!elem || elem === parent) {
      return;
    } else {
      if (elem.__proto__ === HTMLLIElement.prototype) {
        elem.classList.add(active);
      }
      addActiveLiElemment(elem.parentElement, parent);
    }
  }

  function showToc() {
    if (tocWrapper) {
      postBody = document.querySelector('#post_body');
      for (let i = 0; i < postBody.children.length; i++) {
        if (postBody.children[i].__proto__ === HTMLHeadingElement.prototype) {
          hList.push(postBody.children[i]);
        }
      }
      if (tocWrapper.classList.contains('compress')) {
        tocContent.classList.add('closed');
      } else if (tocWrapper.classList.contains('no_compress')) {
        tocContent.classList.add('expanded');
      } else {
        if (hList.length > 10) {
          active = 'active-hidden'
          tocContent.classList.add('closed');
        } else {
          tocContent.classList.add('expanded');
        }
      }
    }
  }

  (function () {
    // 处理不是从#一级标题开始目录
    if (tocContent.children.length === 1 && tocContent.children[0].__proto__ === HTMLLIElement.prototype) {
      let con = tocContent.children[0].children[0];
      tocContent.innerHTML = con.innerHTML;
    }
    let markdownItTOC = document.querySelector('.markdownIt-TOC');
    let innerHeight = window.innerHeight;
    markdownItTOC.style = `max-height: ${innerHeight - 80 > 0 ? innerHeight - 80 : innerHeight}px`
    addTocNumber(tocContent, '');
  })();

  document.addEventListener('scroll', function (e) {
    if (lList.length <= 0) {
      return;
    }
    let scrollTop = document.scrollingElement.scrollTop + 10;
    let dir;

    if (lastTop - scrollTop > 0) {
      dir = 'up';
    } else {
      dir = 'down';
    }

    lastTop = scrollTop;
    if (scrollTop <= 0) {
      if (lastIndex >= 0 && lastIndex < hList.length) {
        lList[lastIndex].classList.remove(activeClass);
      }
      return;
    }

    let current = 0, hasFind = false;
    for (let i = 0; i < hList.length; i++) {
      if (hList[i].offsetTop > scrollTop) {
        current = i;
        hasFind = true;
        break;
      }
    }
    if (!hasFind && scrollTop > lList[lList.length - 1].offsetTop) {
      current = hList.length - 1;
    } else {
      current--;
    }
    if (dir === 'down') {
      if (current > lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex)
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    } else {
      if (current < lastIndex) {
        addActiveClass(current);
        removeActiveClass(lastIndex);
        lastIndex = current;
        removeParentActiveClass();
        lList[current] && addActiveLiElemment(lList[current].parentElement, tocContent);
      }
    }
  });


  window.addEventListener('load', function () {
    showToc();
    document.querySelector('#sidebar').style = 'display: block;';
    tocWrapper.classList.add('toc-active');
    setTimeout(function () {
      if ("createEvent" in document) {
        let evt = document.createEvent("HTMLEvents");
        evt.initEvent("scroll", false, true);
        document.dispatchEvent(evt);
      }
      else {
        document.fireEvent("scroll");
      }
    }, 500)
  })

</script>
            </div>
          
        
      </div>
    </div>
  
</div>
<script>
  const SIDEBAR_TITLE_ACTIVE = 'sidebar-title-active';
  const SIDEBAR_BODY_ACTIVE = 'sidebar-body-active';
  const SLIDE_UP_IN = 'slide-up-in';

  let sidebar = document.querySelector('#sidebar'),
  tocSideBar = document.querySelector('#tocSideBar'),
  metaSideBar = document.querySelector('#metaSideBar'),
  postToc = document.querySelector('#post_toc'),
  postSiteMeta = document.querySelector('#post_side_meta'),
  sidebarTitle = document.querySelector('.sidebar-title'),
  sidebarBody = document.querySelector('#sidebar_body');

  tocSideBar && tocSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  metaSideBar && metaSideBar.addEventListener('click', (e) => {
    toggleSidebar(e);
  });

  function toggleSidebar(e) {
    let currentTitle = document.querySelector("."+SIDEBAR_TITLE_ACTIVE);
    if (currentTitle == e.srcElement) {
      return ;
    }
    let current, showElement, hideElement;
    if (e.srcElement == metaSideBar) {
      showElement = postSiteMeta;
      hideElement = postToc;
    } else if (e.srcElement == tocSideBar){
      showElement = postToc;
      hideElement = postSiteMeta;
    }
    currentTitle.classList.remove(SIDEBAR_TITLE_ACTIVE);
    e.srcElement.classList.add(SIDEBAR_TITLE_ACTIVE);

    jQuery.Velocity(hideElement, 'stop');
    jQuery.Velocity(hideElement, 'transition.slideUpOut', {
      display: 'none',
      duration: 200,
      complete: function () {
        jQuery.Velocity(showElement, 'transition.slideDownIn', {
          duration: 200
        });
      }
    })
    hideElement.classList.remove(SIDEBAR_BODY_ACTIVE);
    showElement.classList.add(SIDEBAR_BODY_ACTIVE);
  }

  postToc && postToc.addEventListener('transitionend', function() {
    this.classList.remove(SLIDE_UP_IN);
  });

  if (sidebarBody) {
    if (sidebarBody.classList.contains('pisces') || sidebarBody.classList.contains('gemini')) {
      let hasFix = false;
      let scrollEl = document.querySelector('.main-continer');
      let limitTop = document.querySelector('#nav_ul').children.length * 42 + 162;
      window.addEventListener('scroll', function(e) {
        if (document.scrollingElement.scrollTop >= limitTop) {
          if (!hasFix) {
            sidebar.classList.add('sidebar-fixed');
            hasFix = true;
          }
        } else {
          if (hasFix) {
            sidebar.classList.remove('sidebar-fixed');
            hasFix = false;
          }
        }
      });
    }
  }
  
</script>
        <div class="section-box box-shadow-wrapper">
          <div class="section bg-color post post-page">
            <section class="post-header">
  <h1 class="post-title">
    <a class="post-title-link" href="https://yangpenghe.ml/post/dian-nao-gu-zhang-wei-xiu-de-tong-yong-fa-ze/">
      电脑故障维修的通用法则
    </a>
  </h1>
  <div class="post-meta">
    
    <span class="meta-item pc-show">
      <i class="fa fa-calendar-o"></i>
      <span class="language" data-lan="publish">发布于</span>
      <span class="publish-time" data-t="2021-06-12 08:00:56">2021-06-12</span>
      <span class="post-meta-divider pc-show">|</span>
    </span>
    
    <span class="meta-item">
      <i class="fa fa-clock-o"></i>
      <span>7<span class="language" data-lan="minute">分钟</span></span>
    </span>
    <span class="meta-item">
      <span class="post-meta-divider">|</span>
      <i class="fa fa-file-word-o"></i>
      <span>1925<span class="pc-show language" data-lan="words">字数</span></span>
    </span>
    
  </div>
</section>
            <div class="post-body next-md-body" id="post_body">
              <p>在进行电脑故障处理时，除了应掌握一定的原理知识，具备一定的逻辑分析、检修能力和故障处理经验外，还应遵循一定的原则和按照一定的步骤进行，下面介绍一些电脑故障维修的通用法则。</p>
<!--more-->
<h3 id="先软件后硬件">先软件后硬件</h3>
<p>当电脑发生故障而且不能判断是软件问题还是硬件问题时，应该先检查有关软件是否正常，排除软件故障的可能后再检查硬件。因为如果软件故障未排除，即使硬件故障已经排除了，电脑也不能正常工作。提示：由于处理软件故障比硬件故障更容易，因此电脑出现故障时，不要急于动手检查硬件，而要先从软件上来查找故障原因，如注册表文件损坏、CMOS参数设置不当、病毒破坏了硬盘主引导扇区等。通过检测软件或工具软件（如Norton、PCTools）排除软件方面的故障，如果不能解决，再来检查硬件方面的故障。不要一开始就盲目拆卸硬件，以免走弯路。通常的软件处理包括体检、优化、清理、杀毒，重新安装软件、重新安装系统，软件问题排除完后才往硬件故障方面考虑，当然如果有很明显的硬件故障则不适用此条。</p>
<h3 id="先外设后主机">先外设后主机</h3>
<p>先外后内是指检修故障时应遵循先从外设找故障，再从主机找故障，从大设备到小设备，逐步缩小查找范围的原则，最终找到故障点。当故障现象涉及到电脑正在使用的外部设备时，应该先检查外设是否正常，然后再检查主机内与之有关的硬件与软件是否正常。由于外设原因引发的故障往往比较容易发现和排除，因此根据系统报错信息进行检修，先确定故障发生的大体配件，如打印机、键盘、视频、音箱、数据线等是否存在故障，然后查看电源的插放、信号线的连接是否正确，最后再来考虑主机，甚至把故障原因定位在某些设备上，然后再进行故障处理。例如，打印文档时打印机意外中止，那么首先应该检查打印机的各个部分是否正常，然后再检查其与主机的连接、主机的接口，最后检查找打印机的驱动程序和打印文档的软件。还有显示器的黑屏问题，我们也是首先排查显示器最后才考虑显卡问题。</p>
<h3 id="先简单后复杂">先简单后复杂</h3>
<p>在排除故障时，要先排除那些简单且容易排除的故障，然后再去排除那些困难的不好解决的故障。因为在排除简单的故障的同时，或许也影响到将要解决的困难的故障，使不好解决的故障也变得很好解决。另外，如果在排除简单的故障中得到启示，对排除困难的故障会有很大的帮助，这样，就比较容易解决了。对于像电路焊接等需要一定的电子维修基础的操作，就不要贸然动手，最好送修。<br>
简单的事情一方面是指观察，另一方面是指简捷的环境。<br>
观察包括以下各项内容：<br>
（1）电脑周围的情况——位置、电源、连接、其他设备、温度与湿度等。<br>
（2）电脑所表现的现象、显示的内容及它们与正常情况下的异同。<br>
（3）电脑内部的情况——灰尘、连接、器件的颜色、部件的形状、指示灯的状态等。<br>
（4）电脑的软硬件配置——安装了何种硬件，资源的使用情况，使用的是何种操作系统，其上又安装了何种应用软件，软件是否为注册版本，硬件的设置驱动程序版本等。<br>
简捷的环境包括：<br>
（1）最小系统：软件层面的最小系统基本上就是安全模式，硬件层面的最小系统是主板＋cpu＋内存。<br>
（2）基本的运行部件/软件和被怀疑有故障的部件/软件。<br>
（3）在一个干净的系统中，添加用户的应用（硬件、软件）来进行分析判断。</p>
<h3 id="先一般后特殊">先一般后特殊</h3>
<p>在分析一个故障原因时，开始要尽量考虑最普通、最一般的可能，排除这些后再考虑一些不太常见、可能性不大的故障原因。<br>
例如初步判断是某个扩展卡出现故障，应先检查板卡的插接、连线情况和工作温度等普通原因，然后再检查板卡的芯片是否被氧化、电路是否被损坏。例如扫描仪不正常工作了，先检查一下电源接线是否松动，或者换一条数据传送线，也许问题就迎刃而解了。如果不行，再考虑其他一些特殊的故障原因。</p>
<h3 id="先电源后部件">先电源后部件</h3>
<p>电源是电脑能否正常工作的关键，电源电压不正常、不稳定，主机电源的功率不能负载各部件的正常运行等都会导致各种故障的发生。因此应该首先检查电源部分，排除电源故障之后再考虑其他部件。</p>
<h3 id="先清洁后检修">先清洁后检修</h3>
<p>在检查电脑内部的各个部件时，首先要观察机内是否清洁，如果发现机内各元器件、引线及金手指之间有尘土、污物、焊油等，应先予以清除，再进行检修，这样既可减少故障的发生率，又可取得事半功倍的效果。<br>
事实证明，大部分的故障都与灰尘有直接或间接的关系，因此，清理掉污垢后会使维修更明了化。将怀疑有故障的部件上的灰尘清理干净后，若排除了由灰尘引起故障的可能性后，便可以重点对其部件进行其他方面的检修。</p>
<h3 id="总结电脑故障万能处理规则">总结：电脑故障万能处理规则</h3>
<p>第一：遇到问题首先想到的是重启，电脑问题重启电脑，网络问题重启路由，重启猫；<br>
第二：软件问题首先想到重新启动电脑，连续按F8，启动菜单选择最近一次正确配置，或者，选择安全模式，然后体检优化清理杀毒，也就是先软后硬的，先怀疑系统问题、病毒问题；<br>
第三：重装软件、重置驱动、重装系统，什么软件报错就重装什么软件，什么硬件异常就重装什么硬件的驱动，不行就动用软件问题的终极大招，重新安装系统；<br>
第四：软件问题排除完了，轮到硬件了，重新拔插内存、显卡、清理灰尘、CMOS电池放电这些简单的处理是我们可以做的，复杂的做不了就只有送修了；<br>
第五：补充一点硬件的处理方法，除非有主板检测卡或者是专业维修人员，否则我们只有采用排除法，怀疑哪个部件有问题就更换哪个，很多小的维修点能做的也只是这个，根据一定的经验推断哪个部件问题，然后换个新的上去验证问题。</p>

            </div>
            
            
              <div class="post-footer">
  <ul class="post-copyright">
    <li class="post-copyright-author">
      <strong class="language" data-lan="author">本文作者：</strong>
      杨鹏赫
    </li>
    <li class="post-copyright-link">
      <strong class="language" data-lan="link">本文链接：</strong>
      <a href="https://yangpenghe.ml/post/dian-nao-gu-zhang-wei-xiu-de-tong-yong-fa-ze/" title="电脑故障维修的通用法则">https://yangpenghe.ml/post/dian-nao-gu-zhang-wei-xiu-de-tong-yong-fa-ze/</a>
    </li>
    <li class="post-copyright-license">
      <strong class="language" data-lan="copyright">版权声明： </strong>
      本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！
    </li>
  </ul>
  <div class="tags">
    
  </div>
  <div class="nav">
    <div class="nav-prev">
      
        <i class="fa fa-chevron-left"></i>
        <a class="nav-pc-next" title="解决Inno Setup制作安装包无法创建桌面快捷方式的问题" href="https://yangpenghe.ml/post/jie-jue-inno-setup-zhi-zuo-an-zhuang-bao-wu-fa-chuang-jian-zhuo-mian-kuai-jie-fang-shi-de-wen-ti/">解决Inno Setup制作安装包无法创建桌面快捷方式的问题</a class="nav-pc-next">
        <a class="nav-mobile-prev" title="解决Inno Setup制作安装包无法创建桌面快捷方式的问题" href="https://yangpenghe.ml/post/jie-jue-inno-setup-zhi-zuo-an-zhuang-bao-wu-fa-chuang-jian-zhuo-mian-kuai-jie-fang-shi-de-wen-ti/">上一篇</a>
      
    </div>
    <div class="nav-next">
      
        <a class="nav-pc-next" title="用了这么多年盗版Windows 不想知道与正版有啥不同吗？" href="https://yangpenghe.ml/post/yong-liao-zhe-me-duo-nian-dao-ban-windows-bu-xiang-zhi-dao-yu-zheng-ban-you-sha-bu-tong-ma/">用了这么多年盗版Windows 不想知道与正版有啥不同吗？</a>
        <a class="nav-mobile-next" title="用了这么多年盗版Windows 不想知道与正版有啥不同吗？" href="https://yangpenghe.ml/post/yong-liao-zhe-me-duo-nian-dao-ban-windows-bu-xiang-zhi-dao-yu-zheng-ban-you-sha-bu-tong-ma/">下一篇</a>
        <i class="fa fa-chevron-right"></i>
      
    </div>
  </div>
</div>
            
            
  
    
      <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>
  var gitalk = new Gitalk({
    clientID: '0fd0c7deebca2b1cf3c5',
    clientSecret: '4599903a005a5217ad4c624a1ce5c8ee3545fafd',
    repo: 'PengheYang.Github.io',
    owner: 'PengheYang',
    admin: ['PengheYang'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })
  gitalk.render('gitalk-container')
</script>
    
    
  

          </div>
        </div>
      </div>
    </div>
    <div class="footer-box">
  <footer class="footer">
    <span id="busuanzi_container_site_pv">浏览数 <span id="busuanzi_value_site_pv"></span> 次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">访客数 <span id="busuanzi_value_site_uv"></span> 人</span>
    <div class="copyright">
      <!-- Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> ©2019 | Theme By <a
        href="https://github.com/hsxyhao/gridea-theme-next" target="_blank">HsxyHao</a> -->
    </div>
    <div class="poweredby">
       
    </div>
  </footer>
  
  
  <div class="pisces back-to-top" id="back_to_top">
    <i class="fa fa-arrow-up"></i>
    
    <span class="scrollpercent">
      <span id="back_to_top_text">0</span>%
    </span>
    
  </div>
  
  
  
<link rel="stylesheet" href="/media/live2d/css/live2d.css" />
<div class="box-scale">
  <div id="landlord" style="left: 5px;bottom: px;"
    data-key="">
    <canvas id="live2d" width="500" height="560" class="live2d"></canvas>
    

      <div class="message" style="opacity:0"></div>
      <div class="live_talk_input_body">
        <div class="live_talk_input_name_body">
          <input name="name" type="text" class="live_talk_name white_input" id="AIuserName" autocomplete="off"
            placeholder="你的名字" />
        </div>
        <div class="live_talk_input_text_body">
          <input name="talk" type="text" class="live_talk_talk white_input" id="AIuserText" autocomplete="off"
            placeholder="要和我聊什么呀？" />
          <button type="button" class="live_talk_send_btn" id="talk_send">发送</button>
        </div>
      </div>
      <input name="live_talk" id="live_talk" value="1" type="hidden" />
      <div class="live_ico_box">
        <div class="live_ico_item type_info" id="showInfoBtn"></div>
        <div class="live_ico_item type_talk" id="showTalkBtn"></div>
        
        <div class="live_ico_item type_music" id="musicButton"></div>
        
        <div class="live_ico_item type_youdu" id="youduButton"></div>
        <div class="live_ico_item type_quit" id="hideButton"></div>
        <input name="live_statu_val" id="live_statu_val" value="0" type="hidden" />
        <audio src="" style="display:none;" id="live2d_bgm" data-bgm="0" preload="none"></audio>
        <input id="duType" value="douqilai" type="hidden">
        
        <input name="live2dBGM" value="https://yangpenghe.ml/images/去年花开.m4a" type="hidden">
        
        <input name="live2dBGM" value="https://yangpenghe.ml/images/星语心愿.m4a" type="hidden">
        
      </div>
    
  </div>
</div>
<div id="open_live2d">召唤看板娘</div>
<script>
  var message_Path = 'https://cdn.jsdelivr.net/gh/hsxyhao/live2d.github.io@master/';
  let landlord = document.querySelector('#landlord');
  var apiKey = landlord.dataset.key;
</script>
<script type="text/javascript" src="/media/live2d/js/live2d.js"></script>
<script>
	var home_Path = document.location.protocol + '//' + window.document.location.hostname + ":" + window.document.location.port + '/';
	var userAgent = window.navigator.userAgent.toLowerCase();
	var norunAI = ["android", "iphone", "ipod", "ipad", "windows phone", "mqqbrowser", "msie", "trident/7.0"];
	var norunFlag = false;

	for (var i = 0; i < norunAI.length; i++) {
		if (userAgent.indexOf(norunAI[i]) > -1) {
			norunFlag = true;
			break;
		}
	}

	if (!window.WebGLRenderingContext) {
		norunFlag = true;
	}

	if (!norunFlag) {
		var hitFlag = false;
		var AIFadeFlag = false;
		var liveTlakTimer = null;
		var sleepTimer_ = null;
		var AITalkFlag = false;
		var talkNum = 0;
		(function () {
			function renderTip(template, context) {
				var tokenReg = /(\\)?\{([^\{\}\\]+)(\\)?\}/g;
				return template.replace(tokenReg, function (word, slash1, token, slash2) {
					if (slash1 || slash2) {
						return word.replace('\\', '');
					}
					var variables = token.replace(/\s/g, '').split('.');
					var currentObject = context;
					var i, length, variable;
					for (i = 0, length = variables.length; i < length; ++i) {
						variable = variables[i];
						currentObject = currentObject[variable];
						if (currentObject === undefined || currentObject === null) return '';
					}
					return currentObject;
				});
			}

			String.prototype.renderTip = function (context) {
				return renderTip(this, context);
			};

			var re = /x/;
			re.toString = function () {
				showMessage('哈哈，你打开了控制台，是想要看看我的秘密吗？', 5000);
				return '';
			};

			$(document).on('copy', function () {
				showMessage('你都复制了些什么呀，转载要记得加上出处哦~~', 5000);
			});

			function initTips() {
				$.ajax({
					cache: true,
					url: message_Path + 'message.json',
					dataType: "json",
					success: function (result) {
						$.each(result.mouseover, function (index, tips) {
							$(tips.selector).mouseover(function () {
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
								talkValTimer();
								clearInterval(liveTlakTimer);
								liveTlakTimer = null;
							});
							$(tips.selector).mouseout(function () {
								showHitokoto();
								if (liveTlakTimer == null) {
									liveTlakTimer = window.setInterval(function () {
										showHitokoto();
									}, 15000);
								};
							});
						});
						$.each(result.click, function (index, tips) {
							$(tips.selector).click(function () {
								if (hitFlag) {
									return false
								}
								hitFlag = true;
								setTimeout(function () {
									hitFlag = false;
								}, 8000);
								var text = tips.text;
								if (Array.isArray(tips.text)) text = tips.text[Math.floor(Math.random() * tips.text.length + 1) - 1];
								text = text.renderTip({ text: $(this).text() });
								showMessage(text, 3000);
							});
							clearInterval(liveTlakTimer);
							liveTlakTimer = null;
							if (liveTlakTimer == null) {
								liveTlakTimer = window.setInterval(function () {
									showHitokoto();
								}, 15000);
							};
						});
					}
				});
			}
			initTips();

			var text;
			if (document.referrer !== '') {
				var referrer = document.createElement('a');
				referrer.href = document.referrer;
				text = '嗨！来自 <span style="color:#0099cc;">' + referrer.hostname + '</span> 的朋友！';
				var domain = referrer.hostname.split('.')[1];
				if (domain == 'baidu') {
					text = '嗨！ 来自 百度搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				} else if (domain == 'so') {
					text = '嗨！ 来自 360搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				} else if (domain == 'google') {
					text = '嗨！ 来自 谷歌搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				}
			} else {
				if (window.location.href == home_Path) { //主页URL判断，需要斜杠结尾
					var now = (new Date()).getHours();
					if (now > 23 || now <= 5) {
						text = '你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？';
					} else if (now > 5 && now <= 7) {
						text = '早上好！一日之计在于晨，美好的一天就要开始了！';
					} else if (now > 7 && now <= 11) {
						text = '上午好！工作顺利嘛，不要久坐，多起来走动走动哦！';
					} else if (now > 11 && now <= 14) {
						text = '中午了，工作了一个上午，现在是午餐时间！';
					} else if (now > 14 && now <= 17) {
						text = '午后很容易犯困呢，今天的运动目标完成了吗？';
					} else if (now > 17 && now <= 19) {
						text = '傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~~';
					} else if (now > 19 && now <= 21) {
						text = '晚上好，今天过得怎么样？';
					} else if (now > 21 && now <= 23) {
						text = '已经这么晚了呀，早点休息吧，晚安~~';
					} else {
						text = '嗨~ 快来逗我玩吧！';
					}
				} else {
					text = '欢迎阅读<span style="color:#0099cc;">「 ' + document.title.split(' - ')[0] + ' 」</span>';
				}
			}
			showMessage(text, 12000);
		})();

		liveTlakTimer = setInterval(function () {
			showHitokoto();
		}, 15000);

		function showHitokoto() {
			if (sessionStorage.getItem("Sleepy") !== "1") {
				if (!AITalkFlag) {
					$.getJSON('https://v1.hitokoto.cn/', function (result) {
						talkValTimer();
						showMessage(result.hitokoto, 0);
					});
				}
			} else {
				hideMessage(0);
				if (sleepTimer_ == null) {
					sleepTimer_ = setInterval(function () {
						checkSleep();
					}, 200);
				}
			}
		}

		function checkSleep() {
			var sleepStatu = sessionStorage.getItem("Sleepy");
			if (sleepStatu !== '1') {
				talkValTimer();
				showMessage('你回来啦~', 0);
				clearInterval(sleepTimer_);
				sleepTimer_ = null;
			}
		}

		function showMessage(text, timeout) {
			if (Array.isArray(text)) text = text[Math.floor(Math.random() * text.length + 1) - 1];
			$('.message').stop();
			$('.message').html(text);
			$('.message').fadeTo(200, 1);
			//if (timeout === null) timeout = 5000;
			//hideMessage(timeout);
		}
		function talkValTimer() {
			$('#live_talk').val('1');
		}

		function hideMessage(timeout) {
			//$('.message').stop().css('opacity',1);
			if (timeout === null) timeout = 5000;
			$('.message').delay(timeout).fadeTo(200, 0);
		}

		function initLive2d() {
			$('#hideButton').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "0");
					$('#landlord').fadeOut(200);
					$('#open_live2d').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#open_live2d').on('click', function () {
				if (AIFadeFlag) {
					return false;
				} else {
					AIFadeFlag = true;
					localStorage.setItem("live2dhidden", "1");
					$('#open_live2d').fadeOut(200);
					$('#landlord').delay(200).fadeIn(200);
					setTimeout(function () {
						AIFadeFlag = false;
					}, 300);
				}
			});
			$('#youduButton').on('click', function () {
				if ($('#youduButton').hasClass('doudong')) {
					var typeIs = $('#youduButton').attr('data-type');
					$('#youduButton').removeClass('doudong');
					$('body').removeClass(typeIs);
					$('#youduButton').attr('data-type', '');
				} else {
					var duType = $('#duType').val();
					var duArr = duType.split(",");
					var dataType = duArr[Math.floor(Math.random() * duArr.length)];

					$('#youduButton').addClass('doudong');
					$('#youduButton').attr('data-type', dataType);
					$('body').addClass(dataType);
				}
			});
			if (apiKey) {
				$('#showInfoBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "0") {
						return
					} else {
						$('#live_statu_val').val("0");
						$('.live_talk_input_body').fadeOut(500);
						AITalkFlag = false;
						showHitokoto();
						$('#showTalkBtn').show();
						$('#showInfoBtn').hide();
					}
				});
				$('#showTalkBtn').on('click', function () {
					var live_statu = $('#live_statu_val').val();
					if (live_statu == "1") {
						return
					} else {
						$('#live_statu_val').val("1");
						$('.live_talk_input_body').fadeIn(500);
						AITalkFlag = true;
						$('#showTalkBtn').hide();
						$('#showInfoBtn').show();

					}
				});
				$('#talk_send').on('click', function () {
					var info_ = $('#AIuserText').val();
					var userid_ = $('#AIuserName').val();
					if (info_ == "") {
						showMessage('写点什么吧！', 0);
						return;
					}
					if (userid_ == "") {
						showMessage('聊之前请告诉我你的名字吧！', 0);
						return;
					}
					showMessage('思考中~', 0);
					let protocol = window.location.protocol.indexOf("s") > 0 ? "https" : "http";
					$.ajax({
						type: "get",
						url: `${protocol}://www.tuling123.com/openapi/api?key=${apiKey}&info=${info_}`,
						dataType: "json",
						success: function (res) {
							talkValTimer();
							showMessage(res.text, 0);
							$('#AIuserText').val("");
							sessionStorage.setItem("live2duser", userid_);
						},
						error: function (e) {
							talkValTimer();
							showMessage('似乎有什么错误，请和站长联系！', 0);
						}
					});
				});
			} else {
				$('#showInfoBtn').hide();
				$('#showTalkBtn').hide();
			}
			//获取音乐信息初始化
			var bgmListInfo = $('input[name=live2dBGM]');
			if (bgmListInfo.length == 0) {
				$('#musicButton').hide();
			} else {
				var bgmPlayNow = parseInt($('#live2d_bgm').attr('data-bgm'));
				var bgmPlayTime = 0;
				var live2dBGM_Num = sessionStorage.getItem("live2dBGM_Num");
				var live2dBGM_PlayTime = sessionStorage.getItem("live2dBGM_PlayTime");
				if (live2dBGM_Num) {
					if (live2dBGM_Num <= $('input[name=live2dBGM]').length - 1) {
						bgmPlayNow = parseInt(live2dBGM_Num);
					}
				}
				if (live2dBGM_PlayTime) {
					bgmPlayTime = parseInt(live2dBGM_PlayTime);
				}
				var live2dBGMSrc = bgmListInfo.eq(bgmPlayNow).val();
				$('#live2d_bgm').attr('data-bgm', bgmPlayNow);
				$('#live2d_bgm').attr('src', live2dBGMSrc);
				$('#live2d_bgm')[0].currentTime = bgmPlayTime;
				$('#live2d_bgm')[0].volume = 0.5;
				var live2dBGM_IsPlay = sessionStorage.getItem("live2dBGM_IsPlay");
				var live2dBGM_WindowClose = sessionStorage.getItem("live2dBGM_WindowClose");
				if (live2dBGM_IsPlay == '0' && live2dBGM_WindowClose == '0') {
					$('#live2d_bgm')[0].play();
					$('#musicButton').addClass('play');
				}
				sessionStorage.setItem("live2dBGM_WindowClose", '1');
				$('#musicButton').on('click', function () {
					if ($('#musicButton').hasClass('play')) {
						$('#live2d_bgm')[0].pause();
						$('#musicButton').removeClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '1');
					} else {
						$('#live2d_bgm')[0].play();
						$('#musicButton').addClass('play');
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				});
				window.onbeforeunload = function () {
					sessionStorage.setItem("live2dBGM_WindowClose", '0');
					if ($('#musicButton').hasClass('play')) {
						sessionStorage.setItem("live2dBGM_IsPlay", '0');
					}
				}
				document.getElementById('live2d_bgm').addEventListener("timeupdate", function () {
					var live2dBgmPlayTimeNow = document.getElementById('live2d_bgm').currentTime;
					sessionStorage.setItem("live2dBGM_PlayTime", live2dBgmPlayTimeNow);
				});
				document.getElementById('live2d_bgm').addEventListener("ended", function () {
					var listNow = parseInt($('#live2d_bgm').attr('data-bgm'));
					listNow++;
					if (listNow > $('input[name=live2dBGM]').length - 1) {
						listNow = 0;
					}
					var listNewSrc = $('input[name=live2dBGM]').eq(listNow).val();
					sessionStorage.setItem("live2dBGM_Num", listNow);
					$('#live2d_bgm').attr('src', listNewSrc);
					$('#live2d_bgm')[0].play();
					$('#live2d_bgm').attr('data-bgm', listNow);
				});
				document.getElementById('live2d_bgm').addEventListener("error", function () {
					$('#live2d_bgm')[0].pause();
					$('#musicButton').removeClass('play');
					showMessage('音乐似乎加载不出来了呢！', 0);
				});
			}
			//获取用户名
			var live2dUser = sessionStorage.getItem("live2duser");
			if (live2dUser !== null) {
				$('#AIuserName').val(live2dUser);
			}
			//获取位置
			var landL = sessionStorage.getItem("historywidth");
			var landB = sessionStorage.getItem("historyheight");
			if (landL == null || landB == null) {
				landL = '5px'
				landB = '0px'
			}
			$('#landlord').css('left', landL + 'px');
			$('#landlord').css('bottom', landB + 'px');
			//移动
			function getEvent() {
				return window.event || arguments.callee.caller.arguments[0];
			}
			var smcc = document.getElementById("landlord");
			var moveX = 0;
			var moveY = 0;
			var moveBottom = 0;
			var moveLeft = 0;
			var moveable = false;
			var docMouseMoveEvent = document.onmousemove;
			var docMouseUpEvent = document.onmouseup;
			smcc.onmousedown = function () {
				var ent = getEvent();
				moveable = true;
				moveX = ent.clientX;
				moveY = ent.clientY;
				var obj = smcc;
				moveBottom = parseInt(obj.style.bottom);
				moveLeft = parseInt(obj.style.left);
				if (isFirefox = navigator.userAgent.indexOf("Firefox") > 0) {
					window.getSelection().removeAllRanges();
				}
				document.onmousemove = function () {
					if (moveable) {
						var ent = getEvent();
						var x = moveLeft + ent.clientX - moveX;
						var y = moveBottom + (moveY - ent.clientY);
						obj.style.left = x + "px";
						obj.style.bottom = y + "px";
					}
				};
				document.onmouseup = function () {
					if (moveable) {
						var historywidth = obj.style.left;
						var historyheight = obj.style.bottom;
						historywidth = historywidth.replace('px', '');
						historyheight = historyheight.replace('px', '');
						sessionStorage.setItem("historywidth", historywidth);
						sessionStorage.setItem("historyheight", historyheight);
						document.onmousemove = docMouseMoveEvent;
						document.onmouseup = docMouseUpEvent;
						moveable = false;
						moveX = 0;
						moveY = 0;
						moveBottom = 0;
						moveLeft = 0;
					}
				};
			};
		}
		$(document).ready(function () {
			var AIimgSrc = [];
			let chooseLive2d = 'histoire'
			if (chooseLive2d === 'histoire') {
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_00.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_01.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_02.png");
				AIimgSrc.push(message_Path + "model/histoire/histoire.1024/texture_03.png");
			} else if (chooseLive2d === 'rem') {
				AIimgSrc.push(message_Path + "model/rem/remu2048/texture_00.png");
			} else if (chooseLive2d === 'aoba') {
				AIimgSrc.push(message_Path + "model/aoba/textures/texture_00.png");
			} else if (chooseLive2d === 'hijiki') {
				AIimgSrc.push(message_Path + "model/hijiki/moc/hijiki.2048/texture_00.png");
			} else if (chooseLive2d === 'tororo') {
				AIimgSrc.push(message_Path + "model/tororo/moc/tororo.2048/texture_00.png");
			}
			var images = [];
			var imgLength = AIimgSrc.length;
			var loadingNum = 0;
			for (var i = 0; i < imgLength; i++) {
				images[i] = new Image();
				images[i].src = AIimgSrc[i];
				images[i].onload = function () {
					loadingNum++;
					if (loadingNum === imgLength) {
						var live2dhidden = localStorage.getItem("live2dhidden");
						if (live2dhidden === "0") {
							setTimeout(function () {
								$('#open_live2d').fadeIn(200);
							}, 1300);
						} else {
							setTimeout(function () {
								$('#landlord').fadeIn(200);
							}, 1300);
						}
						let model = '';
						if (chooseLive2d === 'histoire') {
							model = message_Path + "model/histoire/model.json";
						} else if (chooseLive2d === 'rem') {
							model = message_Path + "model/rem/model.json";
						} else if (chooseLive2d === 'aoba') {
							model = message_Path + "model/aoba/model.json";
						} else if (chooseLive2d === 'hijiki') {
							model = message_Path + "model/hijiki/hijiki.model.json";
						} else if (chooseLive2d === 'tororo') {
							model = message_Path + "model/tororo/tororo.model.json";
						}
						setTimeout(function () {
							loadlive2d("live2d", model);
						}, 1000);
						initLive2d();
						images = null;
					}
				}
			}
		});
	}
</script>
  
  
</div>
<script>

  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
    back2TopText = document.querySelector('#back_to_top_text'),
    drawerBox = document.querySelector('#drawer_box'),
    rightSideBar = document.querySelector('.sidebar'),
    viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

    let needScrollTop = targetY - currentY
    let _currentY = currentY
    setTimeout(() => {
      const dist = Math.ceil(needScrollTop / 10)
      _currentY += dist
      window.scrollTo(_currentY, currentY)
      if (needScrollTop > 10 || needScrollTop < -10) {
        scrollAnimation(_currentY, targetY)
      } else {
        window.scrollTo(_currentY, targetY)
      }
    }, 1)
  }

  back2Top.addEventListener("click", function (e) {
    scrollAnimation(document.scrollingElement.scrollTop, 0);
    e.stopPropagation();
    return false;
  });

  window.addEventListener('scroll', function (e) {
    let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
    if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
      back2Top.classList.add('back-top-active');
    }
    if (percent == 0) {
      back2Top.classList.remove('back-top-active');
    }
    if (back2TopText) {
      back2TopText.textContent = Math.floor(percent);
    }
  });


  let hasCacu = false;
  window.addEventListener('resize', function (e) {
    calcuHeight();
  });

  function calcuHeight() {
    // 动态调整站点概览高度
    if (!hasCacu && back2Top.classList.contains('pisces') || back2Top.classList.contains('gemini')) {
      let sideBar = document.querySelector('.sidebar');
      let navUl = document.querySelector('#site_nav');
      sideBar.style = 'margin-top:' + (navUl.offsetHeight + navUl.offsetTop + 15) + 'px;';
      hasCacu = true;
    }
  }
  calcuHeight();

  let open = false, MOTION_TIME = 300, RIGHT_MOVE_DIS = '320px';

  if (drawerBox) {
    let rightMotions = document.querySelectorAll('.right-motion');
    let right = drawerBox.classList.contains('right');

    let transitionDir = right ? "transition.slideRightIn" : "transition.slideLeftIn";

    let openProp, closeProp;
    if (right) {
      openProp = {
        paddingRight: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingRight: '0px'
      };
    } else {
      openProp = {
        paddingLeft: RIGHT_MOVE_DIS
      };
      closeProp = {
        paddingLeft: '0px'
      };
    }

    drawerBox.onclick = function () {
      open = !open;
      jQuery.Velocity(rightSideBar, 'stop');
      jQuery.Velocity(viewport, 'stop');
      jQuery.Velocity(rightMotions, 'stop');
      if (open) {
        jQuery.Velocity(rightSideBar, {
          width: RIGHT_MOVE_DIS
        }, {
          duration: MOTION_TIME,
          begin: function () {
            jQuery.Velocity(rightMotions, transitionDir, {});
          }
        })
        jQuery.Velocity(viewport, openProp, {
          duration: MOTION_TIME
        });
      } else {
        jQuery.Velocity(rightSideBar, {
          width: '0px'
        }, {
          duration: MOTION_TIME,
          begin: function () {
            jQuery.Velocity(rightMotions, {
              opacity: 0
            });
          }
        })
        jQuery.Velocity(viewport, closeProp, {
          duration: MOTION_TIME
        });
      }
      for (let i = 0; i < drawerBox.children.length; i++) {
        drawerBox.children[i].classList.toggle('muse-line');
      }
      drawerBox.classList.toggle(sideBarOpen);
    }
  }

  // 链接跳转
  let newWindow = 'false'
  if (newWindow === 'true') {
    let links = document.querySelectorAll('.post-body a')
    links.forEach(item => {
      if (!item.classList.contains('btn')) {
        item.setAttribute("target", "_blank");
      }
    })
  }

  let faSearch = document.querySelector('#fa_search');
  faSearch && faSearch.addEventListener('click', function () {
    document.querySelector('#search_mask').style = ''
  })

  // 代码高亮
  hljs.initHighlightingOnLoad();
  
  // 离开当前页title变化
  var leaveTitle = "";
  var normal_title = document.title;
  if (leaveTitle) {
    document.addEventListener('visibilitychange', function () {
      if (document.visibilityState == 'hidden') {
        normal_title = document.title;
        document.title = leaveTitle;
      } else {
        document.title = normal_title;
      }
    });
  }

</script>

<link rel="stylesheet" href="/media/css/jquery.fancybox.css" />
<script src="/media/js/jquery.fancybox.js"></script>

<script>
  let images = document.querySelectorAll('.section img');
  images.forEach(image => {
    var parent = image.parentElement;
    var next = image.nextElementSibling;
    parent.removeChild(image);
    var aelem = document.createElement('a');
    aelem.href = image.src;
    aelem.dataset['fancybox'] = 'images';
    aelem.dataset['rel'] = 'fancybox-button';
    aelem.classList.add('fancybox');
    aelem.appendChild(image);
    parent.insertBefore(aelem, next);
  })
</script>

    <div class="reward-mask" style="display: none;">
  <div class="reward-relative">
    <span class="close" aria-hidden="true">x</span>
    <div class="reward-body">
      <h2>感谢您的支持，我会继续努力的!</h2>
      <div class="reward-img-box">
        <div style="position: relative; width: 140px; height: 140px;">
          
          
          
        </div>
      </div>
      <p class="reward-word">扫码打赏，你说多少就多少</p>
      <p class="reward-tip">打开微信扫一扫，即可进行扫码打赏哦</p>
    </div>
    <div class="bottom">
      
      
    </div>
  </div>
</div>
<style>
  .reward-mask {
    position: fixed;
    z-index: 99999;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: #00000054;
  }

  .reward-relative {
    position: relative;
    width: 480px;
    text-align: center;
    margin: 0 auto;
    border-radius: 5px;
    background-color: #fff;
    top: 50%;
    margin-top: -205px;
  }

  .reward-relative .close {
    position: absolute;
    right: 10px;
    font-weight: normal;
    font-size: 16px;
    color: #929292;
  }

  .reward-body {
    padding: 40px 20px 20px;
  }

  .bottom {
    display: flex;
  }

  .reward-btn {
    text-align: center;
  }

  .reward-btn-text {
    display: inline-block;
    cursor: pointer;
    width: 60px;
    height: 60px;
    line-height: 60px;
    border-radius: 50%;
    background-color: #ff9734;
    color: #FFF;
    margin-top: 20px;
  }

  .pay-text {
    margin-top: 10px;
    padding: 10px;
    flex: 1;
    transition: all .2s linear;
  }

  .pay-text:hover {
    background-color: #a5a5a536;
  }

  .reward-body h2 {
    padding-top: 10px;
    text-align: center;
    color: #a3a3a3;
    font-size: 16px;
    font-weight: normal;
    margin: 0 0 20px;
  }

  .reward-body h2:after,
  .reward-body h2:before {
    font-family: Arial, Helvetica, sans-serif;
    background: 0 0;
    width: 0;
    height: 0;
    font-style: normal;
    color: #eee;
    font-size: 80px;
    position: absolute;
    top: 20px;
  }

  .reward-body h2:before {
    content: '\201c';
    left: 50px;
  }

  .reward-body h2:after {
    content: '\201d';
    right: 80px;
  }

  .reward-img-box {
    display: inline-block;
    padding: 10px;
    border: 6px solid #ea5f00;
    margin: 0 auto;
    border-radius: 3px;
    position: relative;
  }

  .reward-img {
    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
  }

  @media (max-width: 767px) {
    .reward-relative {
      height: 100%;
      top: 0px;
      margin-top: 0;
      width: auto;
    }

    .reward-relative .bottom {
      flex-direction: column;
    }

    .reward-relative .pay-text {
      width: 80%;
      margin: 5px auto;
      border: 1px solid silver;
      padding: 6px;
      border-radius: 4px;
    }

    .reward-body h2:after {
      right: 40px;
    }

    .reward-body h2:after,
    .reward-body h2:before {
      font-size: 60px;
    }

    .reward-body h2:before {
      left: 20px;
    }
  }
</style>
<script>
  !function () {
    var mask = document.querySelector('.reward-mask');
    let close = document.querySelector('.reward-relative .close');
    let rewardBtn = document.querySelector('.reward-btn');

    let zfb = document.querySelector('#zfb'),
      wx = document.querySelector('#wx'),
      zfbBtn = document.querySelector('#zfbBtn'),
      wxBtn = document.querySelector('#wxBtn');

    if (zfbBtn && wxBtn) {
      zfbBtn.addEventListener('click', () => {
        jQuery.Velocity(zfb, 'transition.slideLeftIn', {
          duration: 400
        });
        jQuery.Velocity(wx, 'transition.slideRightOut', {
          display: 'none',
          duration: 400
        });
      });

      wxBtn.addEventListener('click', () => {
        jQuery.Velocity(wx, 'transition.slideRightIn', {
          duration: 400
        });
        jQuery.Velocity(zfb, 'transition.slideLeftOut', {
          display: 'none',
          duration: 400
        });
      });
    }

    rewardBtn.addEventListener('click', (e) => {
      jQuery.Velocity(mask, 'transition.slideDownIn', {
        duration: 400
      })
    });

    close.addEventListener('click', (e) => {
      e.preventDefault();
      jQuery.Velocity(mask, 'transition.slideUpOut', {
        duration: 400
      })
    })
  }()
</script>

  </div>
</body>

<div class="search-mask" id="search_mask" style="display: none;">
  <div class="search-box">
    <div class="search-title">
      <i class="fa fa-search"></i>
      <div class="input-box">
        <input id="search" type="text" class="language" data-lan="search" placeholder="搜索">
      </div>
      <i id="close" class="fa fa-times-circle"></i>
    </div>
    <div class="stat-box">
      <span id="stat_count">0</span><span class="language" data-lan="stat">条相关条目，使用了</span><span id="stat_times">0</span><span class="language" data-lan="stat-time">毫秒</span>
      <hr>
    </div>
    <div class="result" id="result">
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/windows-nt-an-zhuang-net35-huan-jing/"" data-c="
          &lt;p&gt;#准备&lt;br&gt;
首先你需要有Windows NT内核的iso镜像,然后加载到虚拟光驱&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;然后管理员身份运行&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dism.exe /online /enable-feature /featurename:NetFX3 /Source:V:\sources\sxs   #X：虚拟光驱盘符&lt;/code&gt;&lt;/pre&gt;
"> Windows NT 安装Net3.5环境</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/windows-10-ji-huo-mi-yao-cha-kan/"" data-c="
          &lt;h1 id=&#34;使用命令查询-windows-密钥&#34;&gt;使用命令查询 Windows 密钥&lt;/h1&gt;
&lt;p&gt;您可以尝试下列步骤操作下：&lt;/p&gt;
&lt;!--more--&gt;
&lt;ol&gt;
&lt;li&gt;按Windows 徽标键 + S，弹出搜索框，输入powershell,找到Windows PowerShell，右键点击，点击以管理员身份运行它&lt;/li&gt;
&lt;li&gt;复制这串代码&lt;br&gt;
&lt;code&gt;(Get-WmiObject -query &#39;select * from SoftwareLicensingService&#39;).OA3xOriginalProductKey&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;在powershell窗口中，鼠标右键点击即可粘贴上，然后回车一下&lt;/li&gt;
&lt;li&gt;等待几秒后，会显示出OEM的产品密钥出来&lt;br&gt;
&lt;img src=&#34;http://files.yangchendong.ml/files/activateBackup/demo.png&#34; alt=&#34;图片&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
&lt;a href=&#34;ed2k://%7Cfile%7Ccn_windows_10_multiple_editions_x64_dvd_6848463.iso%7C4303300608%7C94FD861E82458005A9CA8E617379856A%7C/&#34;&gt;Windows 10 64bit (家庭版 &amp;amp; 专业版 2合1)下载链接&lt;/a&gt;&lt;br&gt;
文件名:	cn_windows_10_multiple_editions_x64_dvd_6848463.iso&lt;br&gt;
SHA1:	C71D49A6144772F352806201EF564951BE55EDD5&lt;br&gt;
文件大小:4.01GB&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;注意:查看密钥时Windows是什么版本,安装时就选择什么版本,比如查看密钥时是家庭版,安装时只能选择家庭版才可激活&lt;/strong&gt;&lt;/p&gt;
">Windows 10 激活密钥查看</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/termux/"" data-c="
          &lt;h2 id=&#34;termux&#34;&gt;Termux&lt;/h2&gt;
&lt;p&gt;Termux是android的linux环境终端模拟器.&lt;/p&gt;
&lt;!--more--&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://wiki.termux.com/images/2/21/Weechat-with-keyboard_framed.png&#34; alt=&#34;安卓智能手机上的Termux&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;Termux是一个android的linux环境终端模拟器和应用程序，使用apt包管理。&lt;/p&gt;
&lt;h2 id=&#34;入门&#34;&gt;入门&lt;/h2&gt;
&lt;h3 id=&#34;安装-openssh&#34;&gt;安装 openssh&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;apt install openssh&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;公钥&#34;&gt;公钥&lt;/h3&gt;
&lt;p&gt;启用外置存储&lt;/p&gt;
&lt;p&gt;&lt;code&gt;termux-setup-storage&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Android6.0以上会弹框确认是否授权，执行这条命令确保termux在最前端(当前Activity)&lt;br&gt;
成功拿到存储权限后会在家目录生成storage目录，并且生成若干目录，软连接都指向外置存储卡的相应目录&lt;/p&gt;
&lt;p&gt;为了方便文件传输可以为QQ创建一个软连接&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ln -s /data/data/com.termux/files/home/storage/shared/tencent/TIMfile_recv qq  #TIM文件夹
#ln -s /data/data/com.termux/files/home/storage/shared/tencent/QQfile_recv qq #qq文件夹
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;导入公钥&lt;br&gt;
&lt;code&gt;cat ~/qq/id_rsa.pub &amp;gt;&amp;gt; ~/.ssh/authorized_keys&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;ssh&#34;&gt;SSH&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ssh -p 8022 username@ip&lt;/code&gt;&lt;/p&gt;
">Termux</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/python-unicodedecodeerror-cuo-wu/"" data-c="
          &lt;h3 id=&#34;所报错误&#34;&gt;所报错误：&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;UnicodeDecodeError: &#39;ascii&#39; codec can&#39;t decode byte 0xc4 in position 33: ordinal not in range(128)&lt;/code&gt;&lt;/p&gt;
&lt;!--more--&gt;
&lt;h3 id=&#34;unicodedecodeerror-ascii解决办法&#34;&gt;UnicodeDecodeError: &#39;ascii&#39;解决办法：&lt;/h3&gt;
&lt;p&gt;在报错的页面添加代码：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sys 
reload(sys) 
sys.setdefaultencoding(&#39;utf8&#39;) 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;执行 &lt;code&gt;Python filename.py&lt;/code&gt;，报错：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;UnicodeDecodeError: &#39;utf8&#39; codec can&#39;t decode byte 0xb0 in position 35: invalid
 start byte
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;unicodedecodeerror-utf8解决办法&#34;&gt;UnicodeDecodeError: &#39;utf8&#39;解决办法：&lt;/h3&gt;
&lt;p&gt;在报错的页面添加代码：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-Python&#34;&gt;import sys 
reload(sys) 
sys.setdefaultencoding(&#39;gb18030&#39;) 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后再执行 &lt;code&gt;Python filename.py&lt;/code&gt;，成功了。&lt;/p&gt;
&lt;p&gt;下次如果碰到编码问题，只需要看是否是unicode的编码，如果是，你就崩转编码格式了，如果不是，那么就需要转编码格式了。别一碰到类似编码格式的问题，就跑去转编码了。我今天忙了一下午就这么白瞎了。要判断是否是Unicode的，用&lt;code&gt;isinstance(str, unicode)&lt;/code&gt;就可以了&lt;/p&gt;
">Python UnicodeDecodeError错误</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/python-zi-fu-chuan-bian-ma-xiang-guan-de-zhi-shi/"" data-c="
          &lt;p&gt;开发经常会遇到各种字符串编码的问题，例如报错SyntaxError: Non-ASCII character &#39;ascii&#39; codec can&#39;t encode characters in position 0-2: ordinal not in range(128)，又例如显示乱码。&lt;/p&gt;
&lt;p&gt;由于之前不知道编码的原理，遇到这些情况，就只能不断的用各种编码decode和encode。。。。。&lt;/p&gt;
&lt;p&gt;今天整理一个python中的各种编码问题的原因和解决方法，以后遇到编码问题，就不会像莽头苍蝇一样，到处乱撞了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;下面的python环境都是在2.7，听说在3.X中已经没有编码的问题了，因为所有的字符串都是unicode了，之后装个3.X试一下。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果不知道什么是decode和encode，建议先看一下：这里&lt;a href=&#34;http://www.cnblogs.com/Xjng/p/3809781.html&#34;&gt;http://www.cnblogs.com/Xjng/p/3809781.html&lt;/a&gt;&lt;/p&gt;
&lt;!--more--&gt;
&lt;h2 id=&#34;encoding的作用&#34;&gt;encoding的作用&lt;/h2&gt;
&lt;h3 id=&#34;在python文件中如果有中文就一定要在文件的第一行标记使用的编码类型例如-encodingutf-8-就是使用utf-8的编码这个编码有什么作用呢会改变什么呢&#34;&gt;在python文件中，如果有中文，就一定要在文件的第一行标记使用的编码类型，例如 #encoding=utf-8 ,就是使用utf-8的编码，这个编码有什么作用呢？会改变什么呢？&lt;/h3&gt;
&lt;p&gt;demo1.py&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# encoding=utf-8
test=&#39;测试test&#39;
print type(test)
print repr(test)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;type &#39;str&#39;&amp;gt;
&#39;\xe6\xb5\x8b\xe8\xaf\x95test&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;我们通过print把一个变量输出到终端的时候，IDE或者系统一般都会帮我们的输出作转换，例如中文字符会转成中文，所以就看不到变量的原始内容。&lt;/p&gt;
&lt;p&gt;repr函数可以看这个变量的给python看的形式，也就是看到这个变量的原始内容&lt;/p&gt;
&lt;p&gt;从上面的输出可以看到test变量的str类型，它的编码是utf-8的（怎么知道是utf-8，请看第三部分），也就是的encoding类型&lt;/p&gt;
&lt;p&gt;如果我们把encoding改为gbk&lt;/p&gt;
&lt;p&gt;demo2.py&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# encoding=gbk
test=&#39;测试test&#39;
print type(test)
print repr(test)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;type &#39;str&#39;&amp;gt;
&#39;\xb2\xe2\xca\xd4test&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样test的编码类型就变为gbk了。&lt;/p&gt;
&lt;p&gt;所以这个encoding会决定在这个py文件中定义的字符串变量的编码方式。&lt;/p&gt;
&lt;p&gt;而如果一个变量是从其他py文件导入，或者从数据库，redis等读取出来的话，它的编码又是怎样的？&lt;/p&gt;
&lt;p&gt;a.py&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# encoding=utf-8
test=&#39;测试test&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;b.py&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# encoding=gbk
from a import test
print repr(test)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&#39;\xe6\xb5\x8b\xe8\xaf\x95test&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;a.py中定义test变量，a.py的编码方式是utf-8,b.py的编码方式是gbk,b从a中导入test，结果显示test依然为utf-8编码，也就是a.py的编码&lt;/p&gt;
&lt;p&gt;所以encoding只会决定本py文件的编码方式，不会影响导入的或者从其他地方读取的变量的编码方式&lt;/p&gt;
&lt;h2 id=&#34;常见报错codec-cant-encode-characters的原因&#34;&gt;常见报错&lt;code&gt;codec can&#39;t encode characters&lt;/code&gt;的原因&lt;/h2&gt;
&lt;p&gt;python的程序经常会报错 codec can&#39;t encode characters 或 codec can&#39;t decode characters&lt;/p&gt;
&lt;p&gt;在python中定义一个字符串，&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sys
print sys.getdefaultencoding() # 输出 ascii
unicode_test=u&#39;测试test&#39;
print repr(str(unicode_test))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;上面的代码会报错&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&#39;ascii&#39; codec can&#39;t encode characters in position 0-1: ordinal not in range(128)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;除了str方法外，如果操作两个都有中文的字符串，也会报错，但是只有其中一个有中文，却不会报错&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;unicode_test = u&#39;测试test%s{0}&#39;
 
print &#39;%stest&#39; % unicode_test  # 不会报错
print &#39;%s测试&#39; % unicode_test  #会报错
 
print unicode_test % &#39;test&#39;  #不会报错
print unicode_test % &#39;测试&#39;  #会报错
 
print unicode_test.format(&#39;test&#39;) #不会报错
print unicode_test.format(&#39;测试&#39;) #会报错
 
print unicode_test.split(&#39;test&#39;)  #不会报错
print unicode_test.split(&#39;测试&#39;)  #报错
 
print unicode_test + &#39;test&#39;  #不会报错
print unicode_test + &#39;测试&#39;  #会报错
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;为什么会这样？&lt;/p&gt;
&lt;p&gt;这原因下面再解答，这里先列出这个报错的解决方法：&lt;/p&gt;
&lt;p&gt;解决方法是：把系统的默认编码设置为utf-8&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;import sys
reload(sys)
sys.setdefaultencoding(&#39;utf-8&#39;)
print sys.getdefaultencoding()
unicode_test=u&#39;测试test&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;demo3.py&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# encoding=utf-8
import sys
reload(sys)
sys.setdefaultencoding(&#39;utf-8&#39;)
unicode_test=u&#39;测试test&#39;
utf8_test=&#39;测试test&#39;
gbk_test=unicode_test.encode(&#39;gbk&#39;)

#合并unicode和utf-8
merge=unicode_test+utf8_test
print type(merge)
print repr(merge)
 
#合并unicode和gbk
merge=unicode_test+gbk_test
print type(merge)
print repr(merge)
print merge
 
#合并utf-8和gbk
merge=utf8_test+gbk_test
print type(merge)
print repr(merge)
print merge
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这里定义三个分别是unicode，utf-8和gbk编码的字符串，unicode_test,utf8_test和gbk_test&lt;/p&gt;
&lt;h3 id=&#34;合并unicode和utf-8的时候输出&#34;&gt;合并unicode和utf-8的时候，输出：&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;type &#39;unicode&#39;&amp;gt;
u&#39;\u6d4b\u8bd5test\u6d4b\u8bd5test&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;合并的结果的编码是unicode编码。&lt;/p&gt;
&lt;h3 id=&#34;合并unicode和gbk会报错&#34;&gt;合并unicode和gbk，会报错：&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&#39;utf8&#39; codec can&#39;t decode byte 0xb2 in position 0: invalid start byte
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;所以我们可以推测：&lt;/p&gt;
&lt;p&gt;在python对两个字符串进行操作的时候，如果这两个字符串有一个是unicode编码，有一个是非unicode编码，python会将非unicode编码的字符串decode成unicode编码，再进行字符串操作&lt;/p&gt;
&lt;p&gt;例如合并字符串的操作可以写成以下的function：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;def merge_str(str1, str2):
    if isinstance(str1, unicode) and not isinstance(str2, unicode):
        str2 = str2.decode(sys.getdefaultencoding())
    elif not isinstance(str1, unicode) and isinstance(str2, unicode):
        str1 = str1.decode(sys.getdefaultencoding())
    return str1 + str2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;** PS:sys.getdefaultencoding()的初始值是ascii **&lt;/p&gt;
&lt;p&gt;所以，&lt;code&gt;codec can&#39;t encode（decode） characters&lt;/code&gt;这个报错是&lt;code&gt;encode&lt;/code&gt;或&lt;code&gt;decode&lt;/code&gt;这两个方法产生的，而这个方法的参数是sys.getdefaultencoding()。如果用ascii编码对带有中文的字符串进行解码，就会报错。所以修改系统的默认编码可以避免这个报错。&lt;/p&gt;
&lt;p&gt;当执行 str 操作时，python会执行unicode_test.encode(sys.getdefaultencoding()) ，所以也会报错。&lt;/p&gt;
&lt;h3 id=&#34;合并utf-8和gbk的时候却不会报错python会直接把两个字符串合并不会有decode或encode的操作但是输出的时候部分字符串会乱码&#34;&gt;合并utf-8和gbk的时候却不会报错，python会直接把两个字符串合并，不会有decode或encode的操作，但是输出的时候，部分字符串会乱码。&lt;/h3&gt;
&lt;p&gt;demo4.py&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# encoding=gbk
import sys
 
reload(sys)
sys.setdefaultencoding(&#39;utf-8&#39;)
unicode_test = u&#39;测试test&#39;
utf8_test = unicode_test.encode(&#39;utf-8&#39;)
gbk_test = unicode_test.encode(&#39;gbk&#39;)
 
merge = utf8_test + gbk_test
print type(merge)
print repr(merge)
print merge
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这里文件的encoding是gbk，sys.getdefaultencoding()设置为utf-8，结果是：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;type &#39;str&#39;&amp;gt;
&#39;\xe6\xb5\x8b\xe8\xaf\x95test\xb2\xe2\xca\xd4test&#39;
测试test����test
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;即gbk的部分乱码了。所以输出的时候会按照sys.getdefaultencoding()的编码来解码。&lt;/p&gt;
&lt;h2 id=&#34;怎么判断一个字符串string的编码方式&#34;&gt;怎么判断一个字符串（string）的编码方式&lt;/h2&gt;
&lt;h3 id=&#34;没有办法准确地判断一个字符串的编码方式例如gbk的aa代表甲utf-8的aa代表乙如果给定aa怎么判断是哪种编码它既可以是gbk也可以是utf-8&#34;&gt;没有办法准确地判断一个字符串的编码方式，例如gbk的“\aa”代表甲，utf-8的“\aa”代表乙，如果给定“\aa”怎么判断是哪种编码？它既可以是gbk也可以是utf-8&lt;/h3&gt;
&lt;h3 id=&#34;我们能做的是粗略地判断一个字符串的编码方式因为上面的例如的情况是很少的更多的情况是gbk中的aa代表甲utf-8中是乱码例如这样我们就能判断aa是gbk编码因为如果用utf-8编码去解码的结果是没有意义的&#34;&gt;我们能做的是粗略地判断一个字符串的编码方式，因为上面的例如的情况是很少的，更多的情况是gbk中的’\aa’代表甲，utf-8中是乱码，例如�，这样我们就能判断’\aa’是gbk编码，因为如果用utf-8编码去解码的结果是没有意义的&lt;/h3&gt;
&lt;h3 id=&#34;而我们经常遇到的编码其实主要的就只有三种utf-8gbkunicode&#34;&gt;而我们经常遇到的编码其实主要的就只有三种：utf-8，gbk，unicode&lt;/h3&gt;
&lt;p&gt;unicode一般是 \u 带头的，然后后面跟四位数字或字符串，例如 \u6d4b\u8bd5 ，一个\u对应一个汉字&lt;br&gt;
utf-8一般是 \x 带头的，后面跟两位字母或数字，例如 \xe6\xb5\x8b\xe8\xaf\x95\xe5\x95\x8a ，三个 \x 代表一个汉字&lt;br&gt;
gbk一般是 \x 带头的，后面跟两位字母或数字，例如 \xb2\xe2\xca\xd4\xb0\xa1，两个个 \x 代表一个汉字&lt;/p&gt;
&lt;h3 id=&#34;使用chardet模块来判断&#34;&gt;使用chardet模块来判断&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;import chardet
raw = u&#39;我是一只小小鸟&#39;
print chardet.detect(raw.encode(&#39;utf-8&#39;))
print chardet.detect(raw.encode(&#39;gbk&#39;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;输出：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{&#39;confidence&#39;: 0.99, &#39;encoding&#39;: &#39;utf-8&#39;}
{&#39;confidence&#39;: 0.99, &#39;encoding&#39;: &#39;GB2312&#39;}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;chardet模块可以计算这个字符串是某个编码的概率，基本对于99%的应用场景，这个模块都够用了。&lt;/p&gt;
&lt;h2 id=&#34;string_escape和unicode_escape&#34;&gt;string_escape和unicode_escape&lt;/h2&gt;
&lt;h3 id=&#34;string_escape&#34;&gt;string_escape&lt;/h3&gt;
&lt;p&gt;在str中，\x是保留字符，表示后面的两位字符表示一个字符单元（暂且这么叫，不知道对不对），例如&#39;\xe6&#39;，一般三个字符单元表示一个中文字符&lt;/p&gt;
&lt;p&gt;所以在定义变量时，a=&#39;\xe6\x88\x91&#39;,是代表定义了一个中文字符“我”，但是有时候，我们不希望a这个变量代表中文字符，而是代表3*4=12个英文字符，可以使用encode(&#39;string_escape&#39;)来转换：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&#39;\xe6\x88\x91&#39;.encode(&#39;string_escape&#39;)=&#39;\\xe6\\x88\\x91&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;decode就是反过来。&lt;/p&gt;
&lt;p&gt;转换前后的类型都是string。&lt;/p&gt;
&lt;p&gt;还有一个现象，定义a=&#39;\x&#39;,a=&#39;\x0&#39;都是会报错ValueError: invalid \x escape的，而定义a=&#39;\a&#39;,即反斜杠后面不是跟x，都会没问题，而定义a=&#39;\x00&#39;，即x后面跟两个字符，也是没问题的。&lt;/p&gt;
&lt;h3 id=&#34;unicode_escape&#34;&gt;unicode_escape&lt;/h3&gt;
&lt;p&gt;同理在unicode中，\u是保留字符，表示后面的四个字符表示一个中文字符，例如b=u&#39;u6211&#39;，表示“我:”，同理我们希望b变量，表示6个英文字符，而不是一个中文字符，就可以使用encode(‘unicode-escape’)来转换：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;u&#39;u6211&#39;.encode(&#39;unicode-escape&#39;)=&#39;\u6211&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;注意encode前是unicode，转换后是string。&lt;/p&gt;
&lt;p&gt;在unicode中，\u是保留字符，但是在string中，就不是了，所以只有一个反斜杠，而不是两个。&lt;/p&gt;
&lt;p&gt;decode就是反过来。&lt;/p&gt;
&lt;p&gt;同理，a=&#39;\u&#39;也是会报错的&lt;/p&gt;
&lt;h3 id=&#34;例子&#34;&gt;例子&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;#正常的str和unicode字符
str_char=&#39;我&#39;
uni_char=u&#39;我&#39;
print repr(str_char) # &#39;\xe6\x88\x91&#39;
print repr(uni_char) #  u&#39;\u6211&#39;
 
# decode(&#39;unicode-escape&#39;)
s1=&#39;\u6211&#39;
s2=s1.decode(&#39;unicode-escape&#39;)
print repr(s1) # &#39;\\u6211&#39;
print repr(s2) # u&#39;\u6211&#39;
 
# encode(&#39;unicode-escape&#39;)
s1=u&#39;\u6211&#39;
s2=s1.encode(&#39;unicode-escape&#39;)
print repr(s1) # u&#39;\u6211&#39;
print repr(s2) # &#39;\\u6211&#39;
 
# decode(&amp;quot;string_escape&amp;quot;)
s1=&#39;\\xe6\\x88\\x91&#39;
s2=s1.decode(&#39;string_escape&#39;)
print repr(s1) # &#39;\\xe6\\x88\\x91&#39;
print repr(s2) # &#39;\xe6\x88\x91&#39;
 
# encode(&amp;quot;string_escape&amp;quot;)
s1=&#39;\xe6\x88\x91&#39;
s2=s1.encode(&#39;string_escape&#39;)
print repr(s1) # &#39;\xe6\x88\x91&#39;
print repr(s2) # &#39;\\xe6\\x88\\x91&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;应用&#34;&gt;应用&lt;/h3&gt;
&lt;p&gt;内容是unicode，但是type是str，就可以使用decode(&amp;quot;unicode_escape&amp;quot;)转换为内容和type都是unicode&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;s1=&#39;\u6211&#39;
s2=s1.decode(&#39;unicode-escape&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;内容是str，但是type是unicode,就可以使用encode(&amp;quot;unicode_escape&amp;quot;).decode(&amp;quot;string_escape&amp;quot;)转换为内容和type都是str&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;s1=u&#39;\xe6\x88\x91&#39;
s2=s1.encode(&#39;unicode_escape&#39;).decode(&amp;quot;string_escape&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;来源：Xjng&lt;br&gt;
链接：www.cnblogs.com/Xjng/p/5093905.html&lt;/p&gt;
&lt;/blockquote&gt;
">Python字符串编码相关的知识</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/python-cai-quan-xiao-you-xi-de-shi-xian/"" data-c="
          &lt;h1 id=&#34;构思&#34;&gt;构思&lt;/h1&gt;
&lt;h2 id=&#34;规则&#34;&gt;规则&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;相信大家都知道剪刀石头布的游戏规则,但是在计算机中该如何实现呢?&lt;/li&gt;
&lt;li&gt;剪刀&amp;gt;石头&amp;gt;布是一个圈 相互克制&lt;/li&gt;
&lt;/ul&gt;
&lt;!--more--&gt;
&lt;h2 id=&#34;思路&#34;&gt;思路&lt;/h2&gt;
&lt;p&gt;我的想法是如果利用数字1,2,3代替剪刀、石头、布&lt;/p&gt;
&lt;p&gt;用玩家 减去 电脑&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;玩家 --- 电脑&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;剪刀(1)&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;石头 (2)&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;布(3)&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;剪刀(1)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;平(0)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;电脑赢(-1)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;玩家赢(-2)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;石头(2)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;玩家赢(1)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;平(0)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;电脑赢(-1)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;布(3)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;电脑赢(2)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;玩家赢(1)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;平(0)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;result&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;玩家赢&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-2&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;平局&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;电脑赢&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;-1&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;想办法把这三组数区分开,&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;result&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:right&#34;&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;首先 +4&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;玩家: 2,5(赢)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;4(平)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;3,6(输)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;对 3 取余&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;玩家: 2(赢)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;1(平)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;0(输)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;再 -1&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;玩家: 1(赢)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;0(平)&lt;/td&gt;
&lt;td style=&#34;text-align:right&#34;&gt;-1(输)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;这只是其中一种方法,大家不拘泥于这种方法!只要想办法把这三类分开就可以!&lt;/p&gt;
&lt;h2 id=&#34;实现代码&#34;&gt;实现代码&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# -*- coding:utf-8 -*-
import random

info = &#39;&#39;&#39;
		猜拳游戏
		1: 剪刀
		2: 石头
		3: 布
		0: 退出
		根据提示信息填写内容!
&#39;&#39;&#39;

user = int(raw_input(info))

select = [&#39;剪刀&#39;,&#39;石头&#39;,&#39;布&#39;]

count = 0
you_win_count = 0
draw_count = 0

while user != 0:
    if 3 &amp;lt; user or user &amp;lt; 1:
        print &#39;输入错误&#39;
    else:
        count += 1
        computer = random.randint(1,3)
        print(&#39;你出的是:&#39; + str(select[user - 1]))
        print(&#39;电脑出的是:&#39; + str(select[computer - 1]))
        result = (user - computer + 4) % 3 - 1

    if result &amp;gt; 0 :
        you_win_count += 1
        print &#39;你胜利!&#39;
    elif result == 0:
        draw_count += 1
        print &#39;平局&#39;
    elif result &amp;lt; 0:
        print &#39;电脑胜利&#39;
    go_on = raw_input(&#39;是否继续?[Y/N]:&#39;)
    if  go_on == &#39;Y&#39; or go_on == &#39;y&#39;:
        user = int(raw_input(info))
    else:
        break

end = &#39;&#39;&#39;
        共 %d 局
        您胜利: %d 局
        平局: %d 局
        再见!
&#39;&#39;&#39; % (count,you_win_count,draw_count)

print(end)

&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;总结&#34;&gt;总结&lt;/h1&gt;
&lt;p&gt;这道题目看似简单,但是十分考验逻辑思维.大家还有什么更简洁的方法请在下面评论吧! Ψ(￣∀￣)Ψ&lt;/p&gt;
">Python猜拳小游戏的实现!</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/python3-tu-pian-yin-xie-zhu/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;隐写术&lt;/strong&gt;是一门关于信息隐藏的技巧与科学，所谓信息隐藏指的是不让除预期的接收者之外的任何人知晓信息的传递事件或者信息的内容。隐写术的英文叫做Steganography，来源于&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E7%BA%A6%E7%BF%B0%E5%B0%BC%E6%96%AF%C2%B7%E7%89%B9%E9%87%8C%E7%89%B9%E7%B1%B3%E4%B9%8C%E6%96%AF&#34;&gt;特里特米乌斯&lt;/a&gt;的一本讲述&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E5%AD%B8&#34;&gt;密码学&lt;/a&gt;与隐写术的著作&lt;em&gt;Steganographia&lt;/em&gt;，该书书名源于&lt;a href=&#34;https://zh.wikipedia.org/wiki/%E5%B8%8C%E8%87%98%E8%AA%9E&#34;&gt;希腊语&lt;/a&gt;，意为“隐秘书写”。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;!--more--&gt;
&lt;h1 id=&#34;原理&#34;&gt;原理&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;载体文件（cover file）相对隐秘文件的大小（指数据含量，以比特计）越大，隐藏后者就越加容易。&lt;br&gt;
因为这个原因，数字图像（包含有大量的数据）在因特网和其他传媒上被广泛用于隐藏消息。这种方法使用的广泛程度无从查考。例如：一个24位的位图中的每个像素的三个颜色分量（红，绿和蓝）各使用8个比特来表示。如果我们只考虑蓝色的话，就是说有2^8种不同的数值来表示深浅不同的蓝色。而像11111111和11111110这两个值所表示的蓝色，人眼几乎无法区分。因此，这个最低有效位就可以用来存储颜色之外的信息，而且在某种程度上几乎是检测不到的。如果对红色和绿色进行同样的操作，就可以在差不多三个像素中存储一个字节的信息。&lt;br&gt;
更正式一点地说，使隐写的信息难以探测的，也就是保证“有效载荷”（需要被隐蔽的信号）对“载体”（即原始的信号）的调制对载体的影响看起来（理想状况下甚至在统计上）可以忽略。这就是说，这种改变应该无法与载体中的噪声加以区别。&lt;br&gt;
（从信息论的观点来看，这就是说信道的容量必须大于传输“表面上”的信号的需求。这就叫做信道的冗余。对于一幅数字图像，这种冗余可能是成像单元的噪声；对于数字音频，可能是录音或者放大设备所产生的噪声。任何有着模拟放大级的系统都会有所谓的热噪声（或称“1/f”噪声)，这可以用作掩饰。另外，有损压缩技术（如JPEG）会在解压后的数据中引入一些误差，利用这些误差作隐写术用途也是可能的。）&lt;br&gt;
隐写术也可以用作数字水印，这里一条消息（往往只是一个标识符）被隐藏到一幅图像中，使得其来源能够被跟踪或校验。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;总而言之，本实验便是利用图片四个颜色分量（rgba）的最低有效位（英语：Least Significant Bit，lsb）来隐藏信息（本实验隐藏的是文字）&lt;/p&gt;
&lt;h1 id=&#34;程序实现&#34;&gt;程序实现&lt;/h1&gt;
&lt;p&gt;先安装 Pillow：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ sudo pip3 install Pillow
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;导入 Pillow 模块：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from PIL import Image
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;编码&#34;&gt;编码&lt;/h2&gt;
&lt;p&gt;我们首先设计将隐藏信息编码到图片中的函数 &lt;code&gt;encodeDataInImage()&lt;/code&gt;，其有两个参数，分别是用作载体的图片对象和需要被隐藏的字符串。也就是说我们可以这样调用它：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;encodeDataInImage(Image.open(&amp;quot;steganographia.png&amp;quot;), &#39;你好世界，Hello world!&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;encodeDataInImage()&lt;/code&gt; 函数如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def encodeDataInImage(image, data):
    evenImage = makeImageEven(image)  # 获得最低有效位为 0 的图片副本
    binary = &#39;&#39;.join(map(constLenBin,bytearray(data, &#39;utf-8&#39;))) # 将需要被隐藏的字符串转换成二进制字符串
    if len(binary) &amp;gt; len(image.getdata()) * 4:  # 如果不可能编码全部数据， 抛出异常
        raise Exception(&amp;quot;Error: Can&#39;t encode more than &amp;quot; + len(evenImage.getdata()) * 4 + &amp;quot; bits in this image. &amp;quot;)
    encodedPixels = [(r+int(binary[index*4+0]),g+int(binary[index*4+1]),b+int(binary[index*4+2]),t+int(binary[index*4+3])) if index*4 &amp;lt; len(binary) else (r,g,b,t) for index,(r,g,b,t) in enumerate(list(evenImage.getdata()))] # 将 binary 中的二进制字符串信息编码进像素里
    encodedImage = Image.new(evenImage.mode, evenImage.size)  # 创建新图片以存放编码后的像素
    encodedImage.putdata(encodedPixels)  # 添加编码后的数据
    return encodedImage
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;makeImageEven()&lt;/code&gt; 函数的实现如下：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def makeImageEven(image):
    pixels = list(image.getdata())  # 得到一个这样的列表： [(r,g,b,t),(r,g,b,t)...]
    evenPixels = [(r&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1,g&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1,b&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1,t&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1) for [r,g,b,t] in pixels]  # 更改所有值为偶数（魔法般的移位）
    evenImage = Image.new(image.mode, image.size)  # 创建一个相同大小的图片副本
    evenImage.putdata(evenPixels)  # 把上面的像素放入到图片副本
    return evenImage
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;encodeDataInImage()&lt;/code&gt; 中，&lt;code&gt;bytearray()&lt;/code&gt; 将字符串转换为整数值序列（数字范围是 0 到 2^8-1），数值序列由字符串的字节数据转换而来，utf-8 编码的中文字符一个就占了3个字节，那么四个字符共占 3×4=12 个字节，于是共有12个数字。然后 &lt;code&gt;map(constLenBin,bytearray(data, &#39;utf-8&#39;))&lt;/code&gt; 对数值序列中的每一个值应用 &lt;code&gt;constLenBin()&lt;/code&gt; 函数，将十进制数值序列转换为二进制字符串序列。&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def constLenBin(int):
    binary = &amp;quot;0&amp;quot;*(8-(len(bin(int))-2))+bin(int).replace(&#39;0b&#39;,&#39;&#39;)  # 去掉 bin() 返回的二进制字符串中的 &#39;0b&#39;，并在左边补足 &#39;0&#39; 直到字符串长度为 8
    return binary
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在这里 &lt;code&gt;bin()&lt;/code&gt; 的作用是将一个 int 值转换为二进制字符串，详见： &lt;a href=&#34;https://docs.python.org/3/library/functions.html#bin&#34;&gt;https://docs.python.org/3/library/functions.html#bin&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;解码&#34;&gt;解码&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;decodeImage()&lt;/code&gt; 返回图片解码后的隐藏文字，其接受一个图片对象参数。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;def decodeImage(image):
    pixels = list(image.getdata())  # 获得像素列表
    binary = &#39;&#39;.join([str(int(r&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1!=r))+str(int(g&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1!=g))+str(int(b&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1!=b))+str(int(t&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1!=t)) for (r,g,b,t) in pixels])  # 提取图片中所有最低有效位中的数据
    # 找到数据截止处的索引
    locationDoubleNull = binary.find(&#39;0000000000000000&#39;)
    endIndex = locationDoubleNull+(8-(locationDoubleNull % 8)) if locationDoubleNull%8 != 0 else locationDoubleNull
    data = binaryToString(binary[0:endIndex])
    return data

&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://docs.python.org/3/library/stdtypes.html#str.find&#34;&gt;str.find()&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;找到数据截止处所用的字符串 &lt;code&gt;&#39;0000000000000000&#39;&lt;/code&gt; 很有意思，他的长度为16，而不是直觉上的 8，因为两个包含数据的字节的接触部分可能有 8 个 0。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;binaryToString()&lt;/code&gt; 函数将提取出来的二进制字符串转换为隐藏的文本：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;def binaryToString(binary):
    index = 0
    string = []
    rec = lambda x, i: x[2:8] + (rec(x[8:], i-1) if i &amp;gt; 1 else &#39;&#39;) if x else &#39;&#39;
    # rec = lambda x, i: x and (x[2:8] + (i &amp;gt; 1 and rec(x[8:], i-1) or &#39;&#39;)) or &#39;&#39;
    fun = lambda x, i: x[i+1:8] + rec(x[8:], i-1)
    while index + 1 &amp;lt; len(binary):
        chartype = binary[index:].index(&#39;0&#39;)
        length = chartype*8 if chartype else 8
        string.append(chr(int(fun(binary[index:index+length],chartype),2)))
        index += length
    return &#39;&#39;.join(string)

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;要看明白这个，必须要先搞懂 UTF-8 编码的方式，可以在 wikipedia 上了解 UTF-8 编码：&lt;a href=&#34;https://zh.wikipedia.org/wiki/UTF-8&#34;&gt;https://zh.wikipedia.org/wiki/UTF-8&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;UTF-8 是 UNICODE的一种变长度的编码表达方式，也就是说一个字符串中，不同的字符所占的字节数不一定相同，这就给我们的工作带来了一点复杂度，如果我们要支持中文的话（那不是废话么）。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;码点的位数&lt;/th&gt;
&lt;th&gt;码点起值&lt;/th&gt;
&lt;th&gt;码点终值&lt;/th&gt;
&lt;th&gt;字节序列&lt;/th&gt;
&lt;th&gt;Byte 1&lt;/th&gt;
&lt;th&gt;Byte 2&lt;/th&gt;
&lt;th&gt;Byte 3&lt;/th&gt;
&lt;th&gt;Byte 4&lt;/th&gt;
&lt;th&gt;Byte 5&lt;/th&gt;
&lt;th&gt;Byte 6&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;U+0000&lt;/td&gt;
&lt;td&gt;U+007F&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;code&gt;0xxxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;U+0080&lt;/td&gt;
&lt;td&gt;U+07FF&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;&lt;code&gt;110xxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;U+0800&lt;/td&gt;
&lt;td&gt;U+FFFF&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1110xxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;21&lt;/td&gt;
&lt;td&gt;U+10000&lt;/td&gt;
&lt;td&gt;U+1FFFFF&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;&lt;code&gt;11110xxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;26&lt;/td&gt;
&lt;td&gt;U+200000&lt;/td&gt;
&lt;td&gt;U+3FFFFFF&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;&lt;code&gt;111110xx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;31&lt;/td&gt;
&lt;td&gt;U+4000000&lt;/td&gt;
&lt;td&gt;U+7FFFFFFF&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;&lt;code&gt;1111110x&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;10xxxxxx&lt;/code&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;在上图中，只有 &lt;code&gt;x&lt;/code&gt; 所在的位置（也即是字节中第一个 0 之后的数据）存储的是真正的字符数据，因此我们使用下面两个匿名函数来提取出这些数据：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rec = lambda x, i: x[2:8] + (rec(x[8:], i-1) if i &amp;gt; 1 else &#39;&#39;) if x else &#39;&#39;
fun = lambda x, i: x[i+1:8] + rec(x[8:], i-1)

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;fun()&lt;/code&gt; 接受 2 个参数，第一个参数为表示一个字符的二进制字符串，这个二进制字符串可能有不同的长度（8、16、24...48）；第二个参数为这个字符占多少个字节。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lambda x, i: x[i+1:8] + rec(x[8:], i-1)&lt;/code&gt; 中 &lt;code&gt;x[i+1:8]&lt;/code&gt; 获得第一个字节的数据，然后调用 rec()，以递归的方提取后面字节中的数据。&lt;/p&gt;
&lt;p&gt;这里要提一句，&lt;code&gt;rec = lambda x, i: x[2:8] + (rec(x[8:], i-1) if i &amp;gt; 1 else &#39;&#39;) if x else &#39;&#39;&lt;/code&gt;，你可能对在表达式里面引用了 &lt;code&gt;rec&lt;/code&gt; 感到不可理解，的确，严格意义上这样是不能实现递归的，但在 python 里这样是可以的，这就是 python 的语法糖了。&lt;/p&gt;
&lt;p&gt;使用 lambda 表达式写递归从来不是一件简单的事，因为匿名函数引用自身并不简单，大家可以参考一下大牛刘未鹏的博文：&lt;a href=&#34;http://blog.csdn.net/pongba/article/details/1336028&#34;&gt;http://blog.csdn.net/pongba/article/details/1336028&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我们注意到，字符的字节数据中，第一个字节开头 &lt;code&gt;1&lt;/code&gt; 的数目便是字符所占的字节数：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;chartype = binary[index:].index(&#39;0&#39;) # 存放字符所占字节数，一个字节的字符会存为 0

&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;string.append(chr(int(fun(binary[index:index+length],chartype),2)))&lt;/code&gt; 这一行中用到的函数 &lt;code&gt;int()&lt;/code&gt; 以及 &lt;code&gt;chr&lt;/code&gt; 的作用如下：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;int()&lt;/code&gt;: 接受两个参数，第一个参数为数字字符串，第二个参数为这个数字字符串代表的数字的进制。详见： &lt;a href=&#34;https://docs.python.org/3/library/functions.html#int&#34;&gt;https://docs.python.org/3/library/functions.html#int&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chr()&lt;/code&gt;：接受一个参数，参数为 int 值，返回 Unicode 码点为这个 int 值的字符。&lt;/p&gt;
&lt;h2 id=&#34;测试效果&#34;&gt;测试效果&lt;/h2&gt;
&lt;p&gt;获取图片&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ wget http://yangchendong.ml/files/Python3Steganography/coffee.png  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;在我们的代码后添加这两行：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;encodeDataInImage(Image.open(&amp;quot;coffee.png&amp;quot;), &#39;你好世界，Hello world!&#39;).save(&#39;encodeImage.png&#39;)
print(decodeImage(Image.open(&amp;quot;encodeImage.png&amp;quot;)))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;假设你的源代码文件为 steganography.py：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;$ python3 steganography
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;它应该打印出 &amp;quot;你好世界，Hello world!&amp;quot;。&lt;/p&gt;
&lt;h1 id=&#34;完整代码&#34;&gt;完整代码&lt;/h1&gt;
&lt;p&gt;使用下面的命令可以下载源代码：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ wget http://yangchendong.ml/files/Python3Steganography/steganography.py
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;from PIL import Image

&amp;quot;&amp;quot;&amp;quot;
取得一个 PIL 图像并且更改所有值为偶数（使最低有效位为 0）
&amp;quot;&amp;quot;&amp;quot;
def makeImageEven(image):
    pixels = list(image.getdata())  # 得到一个这样的列表： [(r,g,b,t),(r,g,b,t)...]
    evenPixels = [(r&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1,g&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1,b&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1,t&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1) for [r,g,b,t] in pixels]  # 更改所有值为偶数（魔法般的移位）
    evenImage = Image.new(image.mode, image.size)  # 创建一个相同大小的图片副本
    evenImage.putdata(evenPixels)  # 把上面的像素放入到图片副本
    return evenImage

&amp;quot;&amp;quot;&amp;quot;
内置函数 bin() 的替代，返回固定长度的二进制字符串
&amp;quot;&amp;quot;&amp;quot;
def constLenBin(int):
    binary = &amp;quot;0&amp;quot;*(8-(len(bin(int))-2))+bin(int).replace(&#39;0b&#39;,&#39;&#39;)  # 去掉 bin() 返回的二进制字符串中的 &#39;0b&#39;，并在左边补足 &#39;0&#39; 直到字符串长度为 8
    return binary

&amp;quot;&amp;quot;&amp;quot;
将字符串编码到图片中
&amp;quot;&amp;quot;&amp;quot;
def encodeDataInImage(image, data):
    evenImage = makeImageEven(image)  # 获得最低有效位为 0 的图片副本
    binary = &#39;&#39;.join(map(constLenBin,bytearray(data, &#39;utf-8&#39;))) # 将需要被隐藏的字符串转换成二进制字符串
    if len(binary) &amp;gt; len(image.getdata()) * 4:  # 如果不可能编码全部数据， 抛出异常
        raise Exception(&amp;quot;Error: Can&#39;t encode more than &amp;quot; + len(evenImage.getdata()) * 4 + &amp;quot; bits in this image. &amp;quot;)
    encodedPixels = [(r+int(binary[index*4+0]),g+int(binary[index*4+1]),b+int(binary[index*4+2]),t+int(binary[index*4+3])) if index*4 &amp;lt; len(binary) else (r,g,b,t) for index,(r,g,b,t) in enumerate(list(evenImage.getdata()))] # 将 binary 中的二进制字符串信息编码进像素里
    encodedImage = Image.new(evenImage.mode, evenImage.size)  # 创建新图片以存放编码后的像素
    encodedImage.putdata(encodedPixels)  # 添加编码后的数据
    return encodedImage

&amp;quot;&amp;quot;&amp;quot;
从二进制字符串转为 UTF-8 字符串
&amp;quot;&amp;quot;&amp;quot;
def binaryToString(binary):
    index = 0
    string = []
    rec = lambda x, i: x[2:8] + (rec(x[8:], i-1) if i &amp;gt; 1 else &#39;&#39;) if x else &#39;&#39;
    # rec = lambda x, i: x and (x[2:8] + (i &amp;gt; 1 and rec(x[8:], i-1) or &#39;&#39;)) or &#39;&#39;
    fun = lambda x, i: x[i+1:8] + rec(x[8:], i-1)
    while index + 1 &amp;lt; len(binary):
        chartype = binary[index:].index(&#39;0&#39;) # 存放字符所占字节数，一个字节的字符会存为 0
        length = chartype*8 if chartype else 8
        string.append(chr(int(fun(binary[index:index+length],chartype),2)))
        index += length
    return &#39;&#39;.join(string)

&amp;quot;&amp;quot;&amp;quot;
解码隐藏数据
&amp;quot;&amp;quot;&amp;quot;
def decodeImage(image):
    pixels = list(image.getdata())  # 获得像素列表
    binary = &#39;&#39;.join([str(int(r&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1!=r))+str(int(g&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1!=g))+str(int(b&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1!=b))+str(int(t&amp;gt;&amp;gt;1&amp;lt;&amp;lt;1!=t)) for (r,g,b,t) in pixels]) # 提取图片中所有最低有效位中的数据
    # 找到数据截止处的索引
    locationDoubleNull = binary.find(&#39;0000000000000000&#39;)
    endIndex = locationDoubleNull+(8-(locationDoubleNull % 8)) if locationDoubleNull%8 != 0 else locationDoubleNull
    data = binaryToString(binary[0:endIndex])
    return data

encodeDataInImage(Image.open(&amp;quot;coffee.png&amp;quot;), &#39;你好世界，Hello world!&#39;).save(&#39;encodeImage.png&#39;)
print(decodeImage(Image.open(&amp;quot;encodeImage.png&amp;quot;)))
&lt;/code&gt;&lt;/pre&gt;
">Python3 图片隐写术</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/linux-huan-jing-jdk-an-zhuang-ji-pei-zhi/"" data-c="
          &lt;p&gt;Linux下安装jdk，步骤如下：&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;1：下载jdk包：本章使用的为后缀为tar.gz的文件（不需要安装），如jdk-7u67-linux-i586.tar.gz&lt;/p&gt;
&lt;p&gt;2： 把jdk文件保存至Linux下目录：通过控制台，使用mkdir命令生成user/java目录，并把文件放入其下&lt;/p&gt;
&lt;p&gt;3：解压tar.gz文件：通过控制台，进入user/java下，执行$ tar zxvf jdk-7u67-linux-i586.tar.gz，将其进行解压&lt;/p&gt;
&lt;p&gt;4：配置环境变量：打开控制台，运行$ sudo vi /etc/profile，在最后插入要配置的内容 ，按Esc键 ，输入( :wq 保存并退出)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;JAVA_HOME=/home/gcs/user/java/jdk1.7.0_67
PATH=$JAVA_HOME/bin:$PATH
CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export JAVA_HOME
export PATH
export CLASSPATH
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;5：运行$ source /etc/profile，使配置环境生效&lt;/p&gt;
&lt;p&gt;6：运行$ java -version 看是否生效。若出现jdk版本号，则安装并配置环境变量成功&lt;/p&gt;
">Linux环境jdk安装及配置</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/linux-duo-ge-si-yao-pei-zhi/"" data-c="
          &lt;ol&gt;
&lt;li&gt;
&lt;p&gt;创建多个SSH密钥&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; $ssh-keygen -t dsa -C &amp;quot;email.xxx&amp;quot; -f ~/.ssh/xxx
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;以上命令是在~/.ssh下生成密钥对&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;!-- more --&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;
&lt;p&gt;编辑配置文件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$vim ~/.ssh/config&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; Host github.com
    HostName        github.com
    User            git
    IdentityFile    ~/.ssh/githubid_rsa
  
 Host 192.168.1.2
   HostName        192.168.1.2
   User            git
   IdentityFile    ~/.ssh/gitid_rsa
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;把xxx.pub公钥文件的内容加入到要自动登陆服务器指定用户下的~/.ssh/authorized_keys 文件中&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用SSH登录主机时会自动判断使用哪一对密钥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多个公钥直接在追加到authorized_keys文件中就可以了&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
">Linux多个私钥配置</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/aliendeb-yu-rpm-bao-zhuan-huan-gong-ju/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;deb 与 rpm 是GNU/Linux 流行的软件包格式。我们“alien”可以在rpm\dpkg\slackware tgz\deb\slp 格式见进行转换。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;!--more--&gt;
&lt;h1 id=&#34;安装&#34;&gt;安装&lt;/h1&gt;
&lt;p&gt;Debian/Ubuntu 可使用下面命令安装alien：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ sudo apt-get install alien
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Redhat/Centos 请rpm find找个alien的rpm包安装&lt;/p&gt;
&lt;p&gt;附:	源码文件:&lt;a href=&#34;http://files.yangchendong.ml/files/DEB_TO_RPM/alien.tar.gz&#34;&gt;点击这里&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;转换&#34;&gt;转换&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;从RPM转到DEB&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;举例：假设在目录/tmp 有myprogram.rpm 文件，使用下面命令转换：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ sudo alien /tmp/myprogram-1.10-2.i386.rpm
$ myprogram-1.10-3.i386.deb generated
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这时，在/tmp 目录下就会发现有 myprogram.deb ，这时就可以使用dpkg安装：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ dpkg -i /tmp/miprogramma.deb
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;从DEB转到RPM&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;直接添加参数-r进行转换即可：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;$ sudo alien -r pytube0.0.8.1-1all.deb
$ pytube-0.0.8.1-2.noarch.rpm generated
&lt;/code&gt;&lt;/pre&gt;
"> alien：.deb与.rpm包转换工具</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/chrome-pei-zhi-ss-qt5/"" data-c="
          &lt;h2 id=&#34;安装ss-qt5&#34;&gt;安装SS-Qt5&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-shell&#34;&gt;sudo add-apt-repository ppa:hzwhuang/ss-qt5
sudo apt-get update
sudo apt-get install shadowsocks-qt5
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;!--more--&gt;
&lt;h2 id=&#34;下载-switchyomega&#34;&gt;下载 SwitchyOmega&lt;/h2&gt;
&lt;p&gt;因为暂时没有配置完成不能访问Chrome应用商店安装应用所以给大家提供了文件&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://files.yangchendong.ml/files/ssQt5Chrome/SwitchyOmega_ChromiumV2511.crx&#34;&gt;SwitchyOmega V 2.5.11 下载&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;配置-switchyomega&#34;&gt;配置 SwitchyOmega&lt;/h2&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;https://www.switchyomega.com/static/img/step1.png&#34; alt=&#34;01&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/FelisCatus/SwitchyOmega/wiki/GFWList.bak&#34;&gt;备份文件&lt;/a&gt;&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;https://www.switchyomega.com/static/img/step2.png&#34; alt=&#34;02&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;设置代理服务器&#34;&gt;设置代理服务器&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;3&#34;&gt;&lt;img src=&#34;https://www.switchyomega.com/static/img/step3.png&#34; alt=&#34;04&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;4&#34;&gt;&lt;img src=&#34;https://www.switchyomega.com/static/img/step4.png&#34; alt=&#34;05&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;5&#34;&gt;&lt;img src=&#34;https://www.switchyomega.com/static/img/step5.png&#34; alt=&#34;06&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://www.switchyomega.com/static/img/step6.png&#34; alt=&#34;07&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
** 注： GFWList 规则列表网址已经变更，见此页面最下方说明。截图中仍然是旧网址，但除此之外操作步骤相同，并没有其他错误。 **&lt;/p&gt;
&lt;p&gt;如果显示更新失败呢？图上很多字，我也不复述了。但我还是要再罗嗦一句， 大部分出现“更新失败”提示的用户，都是因为代理服务器设置不正确。少部分呢？是因为其实没有代理服务器 ，只是盲目按照上面的图片走了个没有意义的流程。&lt;/p&gt;
">Chrome配置SS-Qt5</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/zen-me-kan-windows-10-shi-bu-shi-yong-jiu-ji-huo/"" data-c="
          &lt;blockquote&gt;
&lt;p&gt;网上有人说，通过一些激活工具激活的Win10可能是批量激活的，并不是永久激活的，只能使用一段时间，要怎么看自己电脑的Win10是不是永久激活呢？对于这个问题，其实非常简单，只需要一条命令即可揭晓。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;!--more--&gt;
&lt;p&gt;查看Win10是否永久激活命令：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;slmgr.vbs -xpr
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Win10激活命令使用方法：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;1、首先打开Win10运行命令框，可以在开始菜单中找到，建议大家直接使用 Win + R 组合快捷键打开；&lt;/p&gt;
&lt;p&gt;2、打开运行命令框后，在打开后面键入或者粘贴上查看Win10激活命令：slmgr.vbs -xpr 然后点击下面的“确定”运行，如图所示。&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;http://files.yangchendong.ml/files/Win10Activate/yunxing.png&#34; alt=&#34;运行&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;3、如果Win10已经永久激活，那么会看到有“计算机已永久激活”提示，如图所示。&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;http://files.yangchendong.ml/files/Win10Activate/info.png&#34; alt=&#34;运行&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;如果Win10是批量激活的，也就是非永久激活，那么会看到批量激活将于某某时间过期提示&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Win10永久激活代表可以一直正常使用下去，而通过非正规途径，采用的是一些激活工具激活的Win10，一般为批量激活，正常能够使用半年左右，过期之后需要重新激活。&lt;/p&gt;
&lt;p&gt;除了上述命令外，下面这个命令你也可以试试，说不定有惊喜。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;slmgr.vbs -dlv
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;如果你的电脑激活过期怎么办呢？&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;获取Win10激活秘钥主要有3种方法:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一种是通过正规途径购买Win10正版激活秘钥，比如可以去微软官网购买，价格一般几百元起，适合打算长期使用Win10的用户。&lt;/li&gt;
&lt;li&gt;另外大家也可以去万能的某宝搜索Win10激活秘钥，这种方式花费少，但不保证正版，适合测试用户推荐，普通用户图省钱，也可以试试。&lt;/li&gt;
&lt;li&gt;最后一个方法，借助激活工具，毕竟还是属于盗版的范畴，可靠性还是没有正版的好，我可以提供一个地址，基于一些原因，建议测试使用，不保证其可靠性。&lt;/li&gt;
&lt;/ul&gt;
">怎么看Windows 10 是不是永久激活?</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/yong-python-jiang-tu-pian-zhuan-huan-cheng-ascii-tu-an/"" data-c="
          &lt;p&gt;在我上大学的时候,接触到了Python是这门编程语言使我走进了编程的世界，我很喜欢这门编程语言。它很简单，对复杂问题的优雅解决方案让我的处理一些问题的时候变的高效。下面的这个图片转ASCII码的功能是我在教我Python这门课的老师那里见到的。&lt;/p&gt;
&lt;!-- more --&gt;
&lt;h1 id=&#34;工作原理&#34;&gt;工作原理&lt;/h1&gt;
&lt;p&gt;首先讲图片缩放到一个适合用ASCII表现的尺寸。后将图片转换成黑白图片。在黑白模式下，灰度有256个等级，每个像素的明暗程度是用8 bit的值表示。0表示颜色是黑色，256表示颜色是白色。我们把0-256分成11个小区间，每一个小区间用一个ASCII字符表示。并且字符表现出来的颜色深度要和这个区间的灰度相匹配。我使用Python Imaging Library库处理图片。先让大家看一下效果&lt;/p&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;http://files.yangchendong.ml/files/technology/yang.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;2&#34;&gt;&lt;img src=&#34;http://files.yangchendong.ml/files/technology/ascii.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
&lt;h3 id=&#34;安装依赖库-pilpython-imaging-library&#34;&gt;安装依赖库 PIL(Python Imaging Library)&lt;/h3&gt;
&lt;p&gt;Ubuntu环境下&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ sudo pip install Pillow
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Windows环境下文章末尾有下载链接&lt;/p&gt;
&lt;h3 id=&#34;代码&#34;&gt;代码&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;	from PIL import Image
	ASCII_CHARS = [ &#39;#&#39;, &#39;?&#39;, &#39;%&#39;, &#39;.&#39;, &#39;S&#39;, &#39;+&#39;, &#39;.&#39;, &#39;*&#39;, &#39;:&#39;, &#39;,&#39;, &#39;@&#39;]
	def scale_image(image, new_width=100):
		(original_width, original_height) = image.size
		aspect_ratio = original_height/float(original_width)
		new_height = int(aspect_ratio * new_width)
		new_image = image.resize((new_width, new_height))
		return new_image
	def convert_to_grayscale(image):
		return image.convert(&#39;L&#39;)
	def map_pixels_to_ascii_chars(image, range_width=25):
		pixels_in_image = list(image.getdata())
		pixels_to_chars = [ASCII_CHARS[pixel_value/range_width] for pixel_value in
				pixels_in_image]
		return &amp;quot;&amp;quot;.join(pixels_to_chars)
	def convert_image_to_ascii(image, new_width=100):
		image = scale_image(image)
		image = convert_to_grayscale(image)
		pixels_to_chars = map_pixels_to_ascii_chars(image)
		len_pixels_to_chars = len(pixels_to_chars)
		image_ascii = [pixels_to_chars[index: index + new_width] for index in
				xrange(0, len_pixels_to_chars, new_width)]
		return &amp;quot;\n&amp;quot;.join(image_ascii)
	def handle_image_conversion(image_filepath):
		image = None
		try:
			image = Image.open(image_filepath)
		except Exception, e:
			print &amp;quot;Unable to open image file {image_filepath}.&amp;quot;.format(image_filepath=image_filepath)
			return
		image_ascii = convert_image_to_ascii(image)
		print image_ascii
	if __name__==&#39;__main__&#39;:
		import sys
		image_file_path = sys.argv[1]
		handle_image_conversion(image_file_path)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;download-link&#34;&gt;DOWNLOAD LINK&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.python.org/downloads/release/python-2710/&#34;&gt;Python 2.7.10&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.pythonware.com/products/pil/&#34;&gt;Python Imaging Library&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
">用Python将图片转换成ASCII图案</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/wu-xu-root-quan-xian-ye-neng-dong-jie-xi-tong-yu-zhuang-app/"" data-c="
          &lt;iframe frameborder=&#34;no&#34; border=&#34;0&#34; marginwidth=&#34;0&#34; marginheight=&#34;0&#34; width=330 height=86 src=&#34;//music.163.com/outchain/player?type=2&amp;id=36117850&amp;auto=0&amp;height=66&#34;&gt;&lt;/iframe&gt;
如今很多安卓手机新买来或刷机后就自带了一大堆无用的全家桶APP，不但占用了大量宝贵的运行内存，还经常偷偷后台自启，耗电跑流量，想删也删不掉，想请也请不走。想要卸载？好吧，你只能获取Root权限。真的要Root么，对不起，我们不保修！！~~
为此很让机油大为纠结。难道真的就没有办法在不需要Root权限的情况下，统统“干”掉这些预装的无用的垃圾应用了么~ 对此作为一个计算机专业的学生表示坚决不服！绝不轻易妥协~
最近偶然的一次发现，使得自个儿脑洞大开，尼玛终于攻克此等难题。想要轻松移除这些通常情况下无法删除的APP，真的不需要ROOT你的安卓设备也能实现哦！
&lt;!--more--&gt;
** 此方法仅适用于 安卓4.4 版本以上的手机系统，低版本使用无效！ **
&lt;h2 id=&#34;预先准备&#34;&gt;预先准备&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://files.yangchendong.ml/files/noRootRemoveAPP/adb_tool.zip&#34;&gt;点击这里下载adb工具包&lt;/a&gt;,并解压&lt;/li&gt;
&lt;li&gt;手机连接数据线到电脑，同时在设置-开发者选项中打开USB调试模式
&lt;ul&gt;
&lt;li&gt;进入手机设置-关于手机-设备信息-连续点击5下版本号即可打开开发者选项(大多数都是这样,如果无效,请自行搜索打开开发者选项的方法!)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;在电脑上进入adb_tool文件夹,按住Shift并单击鼠标右键，选择在此处打开命令提示符&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;正式操作&#34;&gt;正式操作&lt;/h2&gt;
&lt;h3 id=&#34;查找&#34;&gt;查找&lt;/h3&gt;
&lt;p&gt;使用下面这条命令可以搜索过滤查找应用包名。&lt;br&gt;
&lt;code&gt;adb shell pm list packages qq // 查找QQ应用 注意QQ要小写字母&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;删除&#34;&gt;删除&lt;/h3&gt;
&lt;p&gt;在命令提示符窗口执行下列命令，即可免ROOT实现冻结预装应用：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;adb shell pm block com.xxx.xxx(包名)　　 ←　适用于 Android 4.4.x 
adb shell pm hide  com.xxx.xxx(包名)　　 ←　适用于 Android 5.0 以上版本
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;恢复&#34;&gt;恢复&lt;/h3&gt;
&lt;p&gt;在命令提示符窗口执行下列命令，即可免ROOT实现解冻预装应用：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;adb shell pm unblock com.xxx.xxx(包名)　　 ←　适用于 Android 4.4.x 
adb shell pm unhide  com.xxx.xxx(包名)　　 ←　适用于 Android 5.0 以上版本
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;h2 id=&#34;示例&#34;&gt;示例&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;http://files.yangchendong.ml/files/noRootRemoveAPP/demo.png&#34; alt=&#34;Demo&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
因为我的手机系统是Android 6.0 的所以 用 &lt;code&gt;hide&lt;/code&gt;和&lt;code&gt;ubhide&lt;/code&gt;选项,请大家确认自己手机系统版本之后选择合适的选项!&lt;/p&gt;
">无需Root权限也能冻结系统预装APP</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/wo-zai-python-de-yan-yang-li-da-xue-fen-fei/"" data-c="
          &lt;p&gt;回家有段时间了，也不见北票市下雪，闲来无事，写个下雪效果的脚本。&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;代码不长，核心部分是雪花的绘制：&lt;br&gt;
&lt;code&gt;pygame.draw.circle(screen, (255, 255, 255), snow_list[i][:2], snow_list[i][3]-3)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pygame.draw.circle&lt;/code&gt; 是一个根据颜色、位置、半径绘制圆形图案的方法，我们用它来绘制白色的圆点作为雪花。&lt;br&gt;
&lt;code&gt;snow_list&lt;/code&gt; 用来保存所有雪花的横坐标、纵坐标、横向速度、纵向速度。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;完整代码&#34;&gt;完整代码&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;# -*- coding: utf-8 -*-
 
import pygame
import random
 
# 初始化pygame
pygame.init()
  
# 根据背景图片的大小，设置屏幕长宽
SIZE = (1191, 779)
 
screen = pygame.display.set_mode(SIZE)
pygame.display.set_caption(&amp;quot;Snow Animation&amp;quot;)
bg = pygame.image.load(&#39;snow.jpg&#39;)

# 雪花列表
snow_list = []
 
# 初始化雪花：[x坐标, y坐标, x轴速度, y轴速度]
for i in range(200):
    x = random.randrange(0, SIZE[0])
    y = random.randrange(0, SIZE[1])
    sx = random.randint(-1, 1)
    sy = random.randint(3, 6)
    snow_list.append([x, y, sx, sy])
 
clock = pygame.time.Clock()
 
# 游戏主循环
done = False
while not done:
    # 消息事件循环，判断退出
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            done = True
 
    # 黑背景/图片背景
    # screen.fill((0, 0, 0))
    screen.blit(bg, (0, 0))

    # 雪花列表循环
    for i in range(len(snow_list)):
        # 绘制雪花，颜色、位置、大小
        pygame.draw.circle(screen, (255, 255, 255), snow_list[i][:2], snow_list[i][3]-3)
 
        # 移动雪花位置（下一次循环起效）
        snow_list[i][0] += snow_list[i][2]
        snow_list[i][1] += snow_list[i][3]
 
        # 如果雪花落出屏幕，重设位置
        if snow_list[i][1] &amp;gt; SIZE[1]:
            snow_list[i][1] = random.randrange(-50, -10)
            snow_list[i][0] = random.randrange(0, SIZE[0])
 
    # 刷新屏幕
    pygame.display.flip()
    clock.tick(20)

# 退出 
pygame.quit()

&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;** 运行前需要安装好 pygame 库 **&lt;br&gt;
安装命令：&lt;br&gt;
&lt;code&gt;pip install pygame&lt;/code&gt;&lt;/p&gt;
">我在Python的艳阳里，大雪纷飞 </a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/shuang-tu-pian-zhi-zuo-jiao-cheng/"" data-c="
          &lt;p&gt;我也不知道这种图片到底叫什么暂时叫它双图片 下面这个是完成的作品&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/00.png&#34; alt=&#34;Demo0&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
在白色背景下它是这个样子的&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/01.png&#34; alt=&#34;Demo1&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
在黑色背景下是这个样子的&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/02.png&#34; alt=&#34;Demo2&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
&lt;p&gt;教程开始:&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;打开手机版PS 点击相册  选取点击后要显示的图片 点击添加   点击fx 选择风格化 阀值&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/01.jpg&#34; alt=&#34;01&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
平滑度设置为100% 前景色0% 背景色 100%&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/02.jpg&#34; alt=&#34;02&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
点击图层工具 点击图层选项  不透明度设置为25% 设置完成后添加图层&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/03.jpg&#34; alt=&#34;03&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
相册 选择点击前要显示的图片 然后设置为与上一张图片相同的大小 点击右下角√&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/04.jpg&#34; alt=&#34;04&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
fx 风格化 阀值  前景色100%  背景色0%&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/05.jpg&#34; alt=&#34;05&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
图层 图层设置 混合模式设置为差值 点击图层合并 合并可见图层&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/06.jpg&#34; alt=&#34;06&#34; loading=&#34;lazy&#34;&gt;&lt;br&gt;
完成  下方分享按钮 储存到相册 选择PNG 点击上面的项目  确定即可储存图片到手机&lt;br&gt;
&lt;img src=&#34;https://files.yangchendong.ml/files/shuangTuPian/07.jpg&#34; alt=&#34;07&#34; loading=&#34;lazy&#34;&gt;&lt;/p&gt;
">双图片制作教程</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/shi-xian-bai-du-tie-ba-jian-dan-pa-chong-pa-qu-tie-zi-tu-pian/"" data-c="
          &lt;h3 id=&#34;环境&#34;&gt;环境&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Python&lt;/li&gt;
&lt;li&gt;帖子链接
&lt;ul&gt;
&lt;li&gt;例如:http://tieba.baidu.com/p/4811672226&lt;!--more--&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;实现&#34;&gt;实现&lt;/h3&gt;
&lt;h4 id=&#34;导入所需要的库&#34;&gt;导入所需要的库&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-pythhon&#34;&gt;import urllib,re   #导入urllib和re库
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;获取html代码&#34;&gt;获取html代码&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def getHtml(url):
    html = urllib.urlopen(url).read() #读取url的Html代码
    return html						  #储存html代码
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;下载图片&#34;&gt;下载图片&lt;/h4&gt;
&lt;p&gt;首先在脚本文件的目录下创建images文件夹(也可以在脚本内用代码创建,为保证新手更加容易实现,所以这里用手动创建文件夹)&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;def getImg(html):
    count = 1	#用于计数
    reg = re.compile(r&#39;class=&amp;quot;BDE_Image&amp;quot; src=&amp;quot;(.*?)&amp;quot;&#39;); #获取图片链接的正则表达式
    imgLinkList = re.findall(reg,html) #获取图片链接列表
    for imgLink in imgLinkList:
        print imgLink #显示当前图片链接
        print(&#39;正在下载第%d张图片&#39; % (count))
        #下载图片到images文件夹下
        urllib.urlretrieve(imgLink, r&#39;.//images//%d.jpg&#39; % (count)) 
        count += 1
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;调用&#34;&gt;调用&lt;/h4&gt;
&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;html = getHtml(&#39;http://tieba.baidu.com/p/4811672226&#39;)
getImg(html)
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;完整代码及运行效果&#34;&gt;完整代码及运行效果&lt;/h3&gt;
&lt;figure data-type=&#34;image&#34; tabindex=&#34;1&#34;&gt;&lt;img src=&#34;http://files.yangchendong.ml/files/webSpider/demo.png&#34; alt=&#34;&#34; loading=&#34;lazy&#34;&gt;&lt;/figure&gt;
">实现百度贴吧简单爬虫(爬取帖子图片)</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/ru-he-qing-xi-git-repo-dai-ma-cang-ku/"" data-c="
          &lt;p&gt;相信不少团队的代码仓库 Git Repo 变得越来越大。除了代码的提交外，时常有人会把二进制文件比如 Jar包或者不小心把不该提交到代码库的文件提交到代码库中，比如用户名密码之类的保密信息。如何清洗代码仓库 Git Repo，彻底从历史中删除此类文件呢？&lt;/p&gt;
&lt;!--more--&gt;
&lt;h1 id=&#34;手动清理&#34;&gt;手动清理&lt;/h1&gt;
&lt;p&gt;如果你们的代码仓库问题比较少，只有几个不该提交的文件，可以参考 Atlassian 的一篇关于维护 Git Repo 的文章。&lt;/p&gt;
&lt;p&gt;大致过程如下：&lt;/p&gt;
&lt;h2 id=&#34;首先进行-git-垃圾回收&#34;&gt;首先进行 Git 垃圾回收：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git gc --auto
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;其次查看-git-仓库占用空间&#34;&gt;其次查看 Git 仓库占用空间：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;$ du -hs .git/objects
45M .git/objects
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;然后找出历史中超过一定大小的文件，最后在历史中删除并且提交。如果感兴趣手动处理这个过程可以参照文章后边的链接。&lt;/p&gt;
&lt;p&gt;相关的几个命令：&lt;/p&gt;
&lt;h2 id=&#34;清理历史中的文件&#34;&gt;清理历史中的文件：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git filter-branch --force --index-filter &#39;git rm --cached --ignore-unmatch ****/nohup.out&#39; --prune-empty --tag-name-filter cat -- --all
git filter-branch --index-filter &#39;git rm --cached --ignore-unmatch ****/nohup.out&#39; HEAD
git for-each-ref --format=&amp;quot;%(refname)&amp;quot; refs/original/ | xargs -n 1 git update-ref -d
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;强制提交覆盖&#34;&gt;强制提交覆盖：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git reflog expire --expire=now --all
git gc --prune=now
git push --all --force
git push --all --tags --force
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;但是这个方案有-2-个问题&#34;&gt;但是这个方案有 2 个问题：&lt;/h2&gt;
&lt;p&gt;处理速度慢，尝试清理 2G 大小的代码库，用了一晚上还没跑完。&lt;br&gt;
只能按文件名清理，如果不同的路径有同样的文件名就无法处理了，可能误删文件或者忽略某些文件。&lt;br&gt;
当然有个非常好的解决方案完美解决了这个问题。如下：&lt;/p&gt;
&lt;h1 id=&#34;自动清理&#34;&gt;自动清理&lt;/h1&gt;
&lt;p&gt;答案就是 bfg-repo-cleaner，这是一个 Java 写的清理工具，多线程处理清理过程，命令很简单，只需要几分钟就清理了之前 一晚上都跑不完的任务：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;java -jar bfg-1.11.7.jar --delete-files *.zip myrepo.git
java -jar bfg-1.11.7.jar --delete-files *.log myrepo.git
java -jar bfg-1.11.7.jar --delete-files *.out myrepo.git
java -jar bfg-1.11.7.jar --strip-blobs-bigger-than 1M myrepo.git
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;附上几个常用的但又不常见的-git-小技巧&#34;&gt;附上几个常用的但又不常见的 git 小技巧：&lt;/h1&gt;
&lt;h2 id=&#34;复制代码仓库&#34;&gt;复制代码仓库：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git clone --bare /var/www/html/myrepo.git
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;git-后悔药覆盖最后一次修改&#34;&gt;Git 后悔药，覆盖最后一次修改：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git add .
git commit --amend
git push origin master -f
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;git-放弃本地修改&#34;&gt;Git 放弃本地修改：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git checkout .
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;git-销毁最后一次提交&#34;&gt;Git 销毁最后一次提交：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git reset --hard HEAD^
git push -f origin HEAD^:master
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;打包时候嵌入版本号&#34;&gt;打包时候嵌入版本号：&lt;/h2&gt;
&lt;pre&gt;&lt;code&gt;git rev-parse HEAD &amp;gt; version.txt&lt;/code&gt;&lt;/pre&gt;
">如何清洗 Git Repo 代码仓库</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/pi-chu-li-zhong-shi-yong-xi-tong-lu-jing-de-ming-ling/"" data-c="
          &lt;p&gt;系统路径是指一些以%SystemRoot%（以“%名称%”表示）开头的路径。它的作用是告诉系统，我要定位的文件（夹）在系统分区Windows目录下&lt;/p&gt;
&lt;!--more--&gt;
&lt;ul&gt;
&lt;li&gt;当前系统盘符		 &lt;code&gt;%systemdrive%&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;当前系统目录 	&lt;code&gt;%systemroot%&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;当前用户文件夹	&lt;code&gt;%UserProfile%&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;临时文件夹 		&lt;code&gt;%temp%&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;程序文件	夹		&lt;code&gt;%ProgramFiles%&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;例：把当前目录下的 test.txt 文件复制到c:\windows\system32目录下&lt;/p&gt;
&lt;p&gt;建个批处理：内容为&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-powershell&#34;&gt;@echo off 
copy test.txt %systemroot%\system32 
exit 
&lt;/code&gt;&lt;/pre&gt;
">批处理中使用系统路径的命令</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/mu-lu-jia-ru-gitignore-wu-xiao-de-jie-jue-fang-fa/"" data-c="
          &lt;h1 id=&#34;原因&#34;&gt;原因&lt;/h1&gt;
&lt;p&gt;无效的原因是：对应的目录或者文件已经被git跟踪，此时再加入.gitignore后就无效了，&lt;/p&gt;
&lt;!--more--&gt;
&lt;h1 id=&#34;解决办法&#34;&gt;解决办法：&lt;/h1&gt;
&lt;p&gt;先执行 &lt;code&gt;git rm -r --cached 文件名&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;再重新加入.gitignore文件&lt;/p&gt;
">目录加入.gitignore无效的解决方法</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/jie-jue-inno-setup-zhi-zuo-an-zhuang-bao-wu-fa-chuang-jian-zhuo-mian-kuai-jie-fang-shi-de-wen-ti/"" data-c="
          &lt;p&gt;下面是我使用Inno Setup打包软件后自动生成的一段代码：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[Tasks]
Name: &amp;quot;desktopicon&amp;quot;; Description: &amp;quot;{cm:CreateDesktopIcon}&amp;quot;; GroupDescription: &amp;quot;{cm:AdditionalIcons}&amp;quot;; Flags: unchecked; OnlyBelowVersion: 0,6.1
Name: &amp;quot;quicklaunchicon&amp;quot;; Description: &amp;quot;{cm:CreateQuickLaunchIcon}&amp;quot;; GroupDescription: &amp;quot;{cm:AdditionalIcons}&amp;quot;; Flags: unchecked
&lt;/code&gt;&lt;/pre&gt;
&lt;!--more--&gt;
&lt;p&gt;为了实现上图1所示的效果，我们将代码改成下面的样子：&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[Tasks]
Name: &amp;quot;desktopicon&amp;quot;; Description: &amp;quot;{cm:CreateDesktopIcon}&amp;quot;; GroupDescription: &amp;quot;{cm:AdditionalIcons}&amp;quot;; Flags: checkablealone
Name: &amp;quot;quicklaunchicon&amp;quot;; Description: &amp;quot;{cm:CreateQuickLaunchIcon}&amp;quot;; GroupDescription: &amp;quot;{cm:AdditionalIcons}&amp;quot;; Flags: checkablealone
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样就基本OK了，我一般打包软件的时候，只喜欢加上“创建桌面快捷方式”，不喜欢加上“创建快速启动栏快捷方式”，所以第二段代码也可以不要。&lt;/p&gt;
">解决Inno Setup制作安装包无法创建桌面快捷方式的问题</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/dian-nao-gu-zhang-wei-xiu-de-tong-yong-fa-ze/"" data-c="
          &lt;p&gt;在进行电脑故障处理时，除了应掌握一定的原理知识，具备一定的逻辑分析、检修能力和故障处理经验外，还应遵循一定的原则和按照一定的步骤进行，下面介绍一些电脑故障维修的通用法则。&lt;/p&gt;
&lt;!--more--&gt;
&lt;h3 id=&#34;先软件后硬件&#34;&gt;先软件后硬件&lt;/h3&gt;
&lt;p&gt;当电脑发生故障而且不能判断是软件问题还是硬件问题时，应该先检查有关软件是否正常，排除软件故障的可能后再检查硬件。因为如果软件故障未排除，即使硬件故障已经排除了，电脑也不能正常工作。提示：由于处理软件故障比硬件故障更容易，因此电脑出现故障时，不要急于动手检查硬件，而要先从软件上来查找故障原因，如注册表文件损坏、CMOS参数设置不当、病毒破坏了硬盘主引导扇区等。通过检测软件或工具软件（如Norton、PCTools）排除软件方面的故障，如果不能解决，再来检查硬件方面的故障。不要一开始就盲目拆卸硬件，以免走弯路。通常的软件处理包括体检、优化、清理、杀毒，重新安装软件、重新安装系统，软件问题排除完后才往硬件故障方面考虑，当然如果有很明显的硬件故障则不适用此条。&lt;/p&gt;
&lt;h3 id=&#34;先外设后主机&#34;&gt;先外设后主机&lt;/h3&gt;
&lt;p&gt;先外后内是指检修故障时应遵循先从外设找故障，再从主机找故障，从大设备到小设备，逐步缩小查找范围的原则，最终找到故障点。当故障现象涉及到电脑正在使用的外部设备时，应该先检查外设是否正常，然后再检查主机内与之有关的硬件与软件是否正常。由于外设原因引发的故障往往比较容易发现和排除，因此根据系统报错信息进行检修，先确定故障发生的大体配件，如打印机、键盘、视频、音箱、数据线等是否存在故障，然后查看电源的插放、信号线的连接是否正确，最后再来考虑主机，甚至把故障原因定位在某些设备上，然后再进行故障处理。例如，打印文档时打印机意外中止，那么首先应该检查打印机的各个部分是否正常，然后再检查其与主机的连接、主机的接口，最后检查找打印机的驱动程序和打印文档的软件。还有显示器的黑屏问题，我们也是首先排查显示器最后才考虑显卡问题。&lt;/p&gt;
&lt;h3 id=&#34;先简单后复杂&#34;&gt;先简单后复杂&lt;/h3&gt;
&lt;p&gt;在排除故障时，要先排除那些简单且容易排除的故障，然后再去排除那些困难的不好解决的故障。因为在排除简单的故障的同时，或许也影响到将要解决的困难的故障，使不好解决的故障也变得很好解决。另外，如果在排除简单的故障中得到启示，对排除困难的故障会有很大的帮助，这样，就比较容易解决了。对于像电路焊接等需要一定的电子维修基础的操作，就不要贸然动手，最好送修。&lt;br&gt;
简单的事情一方面是指观察，另一方面是指简捷的环境。&lt;br&gt;
观察包括以下各项内容：&lt;br&gt;
（1）电脑周围的情况——位置、电源、连接、其他设备、温度与湿度等。&lt;br&gt;
（2）电脑所表现的现象、显示的内容及它们与正常情况下的异同。&lt;br&gt;
（3）电脑内部的情况——灰尘、连接、器件的颜色、部件的形状、指示灯的状态等。&lt;br&gt;
（4）电脑的软硬件配置——安装了何种硬件，资源的使用情况，使用的是何种操作系统，其上又安装了何种应用软件，软件是否为注册版本，硬件的设置驱动程序版本等。&lt;br&gt;
简捷的环境包括：&lt;br&gt;
（1）最小系统：软件层面的最小系统基本上就是安全模式，硬件层面的最小系统是主板＋cpu＋内存。&lt;br&gt;
（2）基本的运行部件/软件和被怀疑有故障的部件/软件。&lt;br&gt;
（3）在一个干净的系统中，添加用户的应用（硬件、软件）来进行分析判断。&lt;/p&gt;
&lt;h3 id=&#34;先一般后特殊&#34;&gt;先一般后特殊&lt;/h3&gt;
&lt;p&gt;在分析一个故障原因时，开始要尽量考虑最普通、最一般的可能，排除这些后再考虑一些不太常见、可能性不大的故障原因。&lt;br&gt;
例如初步判断是某个扩展卡出现故障，应先检查板卡的插接、连线情况和工作温度等普通原因，然后再检查板卡的芯片是否被氧化、电路是否被损坏。例如扫描仪不正常工作了，先检查一下电源接线是否松动，或者换一条数据传送线，也许问题就迎刃而解了。如果不行，再考虑其他一些特殊的故障原因。&lt;/p&gt;
&lt;h3 id=&#34;先电源后部件&#34;&gt;先电源后部件&lt;/h3&gt;
&lt;p&gt;电源是电脑能否正常工作的关键，电源电压不正常、不稳定，主机电源的功率不能负载各部件的正常运行等都会导致各种故障的发生。因此应该首先检查电源部分，排除电源故障之后再考虑其他部件。&lt;/p&gt;
&lt;h3 id=&#34;先清洁后检修&#34;&gt;先清洁后检修&lt;/h3&gt;
&lt;p&gt;在检查电脑内部的各个部件时，首先要观察机内是否清洁，如果发现机内各元器件、引线及金手指之间有尘土、污物、焊油等，应先予以清除，再进行检修，这样既可减少故障的发生率，又可取得事半功倍的效果。&lt;br&gt;
事实证明，大部分的故障都与灰尘有直接或间接的关系，因此，清理掉污垢后会使维修更明了化。将怀疑有故障的部件上的灰尘清理干净后，若排除了由灰尘引起故障的可能性后，便可以重点对其部件进行其他方面的检修。&lt;/p&gt;
&lt;h3 id=&#34;总结电脑故障万能处理规则&#34;&gt;总结：电脑故障万能处理规则&lt;/h3&gt;
&lt;p&gt;第一：遇到问题首先想到的是重启，电脑问题重启电脑，网络问题重启路由，重启猫；&lt;br&gt;
第二：软件问题首先想到重新启动电脑，连续按F8，启动菜单选择最近一次正确配置，或者，选择安全模式，然后体检优化清理杀毒，也就是先软后硬的，先怀疑系统问题、病毒问题；&lt;br&gt;
第三：重装软件、重置驱动、重装系统，什么软件报错就重装什么软件，什么硬件异常就重装什么硬件的驱动，不行就动用软件问题的终极大招，重新安装系统；&lt;br&gt;
第四：软件问题排除完了，轮到硬件了，重新拔插内存、显卡、清理灰尘、CMOS电池放电这些简单的处理是我们可以做的，复杂的做不了就只有送修了；&lt;br&gt;
第五：补充一点硬件的处理方法，除非有主板检测卡或者是专业维修人员，否则我们只有采用排除法，怀疑哪个部件有问题就更换哪个，很多小的维修点能做的也只是这个，根据一定的经验推断哪个部件问题，然后换个新的上去验证问题。&lt;/p&gt;
">电脑故障维修的通用法则</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/yong-liao-zhe-me-duo-nian-dao-ban-windows-bu-xiang-zhi-dao-yu-zheng-ban-you-sha-bu-tong-ma/"" data-c="
          &lt;p&gt;微软上任CEO鲍尔默曾痛批，** 中国电脑安装的Windows中，90%都是盗版。 ** 这里不谈数据是否出入，但中国盗版软件猖獗的确是事实。甚至有些人对盗版无知到自己完全分不清楚正版和盗版，而这样的局面，很大一部分程度上微软其实自己也有责任。今天就和大家聊聊有关Windows系统的话题，帮大家了解一下 ** 什么是正版系统，什么是盗版系统。 **&lt;/p&gt;
&lt;!--more--&gt;
&lt;p&gt;首先,我们还了解一下盗版的概念。 ** 盗版是指在未经版权所有人同意或授权的情况下，对其拥有著作权的作品、出版物等进行由新制造商制造跟源代码完全一致的复制品、再分发的行为。 ** 在绝大多数国家和地区，此行为被定义为侵犯知识产权的违法行为，甚至构成犯罪，会受到所在国家的处罚。&lt;/p&gt;
&lt;p&gt;盗版系统从Windows 9X时代就开始出现了，那时候微软的防盗技术还不成熟，只要输入产品密钥就可以激活了。到了后来WindowsXP盛行时，激活方式改为联网激活，虽然比之前麻烦了一点，但广大的网民还是快快就将Windows XP破解掉了。此后，虽然Windows 7/Windows 8和Win10都采取了更加高级的防盗版技术，但更高明的激活工具也随之而来。有些朋友会说，我用的盗版系统和正版系统没什么区别，所有的功能和正版都是一样的，所以也没必要购买正版操作系统。其实这种想法是不对的，即使我们抛开道德和法律等因素，盗版系统和正版系统还是有很多不同之处的，主要分以下几种情况：&lt;/p&gt;
&lt;p&gt;1、 此前如果你是使用盗版Windows 7系统通过微软免费升级政策升级成Windows 10系统，那么Windows 10系统仍然属于盗版系统。&lt;br&gt;
2、 使用GHOST装系统，操作系统已经被修改，破解后封装成GHOST。&lt;br&gt;
3、 KMS激活，利用微软对企业计算机的批量激活漏洞进行激活。&lt;br&gt;
4、 电话激活，微软因硬件发生变化、重装系统不能用密钥联网激活的正版用户提供“激活ID”服务。&lt;/p&gt;
&lt;p&gt;以上方法是目前比较常见的盗版激活方式，虽然微软已经暂停Windows10的免费升级政策，但很多网友依然可以通过修改系统时间来绕过检测，达到激活目的。下面笔者为大家详细阐述KMS激活和电话激活的原理，以及可能会引起的问题&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;KMS激活方法弊端&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;KMS全称Key Management Service。说出来你可能不信，KMS其实是微软官方认可的激活方法。KMS出现的原因：Windows XP和Server 2003要想避开激活机制的最好办法就是去下载VOL版或者MSDN的操作系统，只要输入正确的序列号，甚至有的根本不需要序列号，安装完以后也根本不用激活，并且只要运行一个脚本程序，一个免费的正版Windows就诞生了。为什么我们能这么容易的下载到MSDN或VOL版的XP和2003？其实Windows XP系列系统的MSDN版是Microsoft内部使用的系统，而VOL版是企业版，所以都不需要激活。然而这些版本最终被泄露，导致XP的盗版风无法停住，即使WGA也无能为力。但是在Vista时代，Microsoft早已吸取了这个教训，所以Vista根本没有VOL版，而为企业设计的Windows Vista Enterprise也照样需要激活，并且还有了一个特殊的激活机制——KMS。&lt;br&gt;
KMS，即通过系统管理员（System Administrator）使用一个批量激活密钥（也就是大家经常看到的Volume Key，Vol密钥，设置一个激活服务器（Activation Server），并在每一个客户机上安装KMS的客户端，就可以进行批量激活和管理，极大的减少了工作量。&lt;br&gt;
而使用激活工具则会利用局域网和KMS服务器，在网上下载一个VMWare KMS服务器的虚拟机镜像，然后用VMWare调试使虚拟机能和主机连成局域网，再每180天一次激活，就可以让系统保持激活状态。还有，这几个版本的系统试用期总共有180天，快到期的话可以用一个脚本延长，最多延长3次，每次60天，达到激活目的。&lt;br&gt;
这种激活方法的弊端就是：成功激活后，你的电脑就会变成团队电脑。KMS工具开发者就是管理员。不要不以为然，管理员能够执行的操作权限非常高，拷贝个数据收集个信息简直是小菜一碟，更厉害的还能直接reset你的系统而保留KMS的权限。说不定，哪天KMS的开发者不开心，就帮你清空一下电脑。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;电话激活弊端&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;电话激活是以本机硬件信息和系统信息为参数，用算法得到一组结果，就是一个48位的ID特征码，这个算法是windows系统内置的。然后再用这组产品ID为参数用另外的算法计算，得到激活ID，这个算法在微软服务器那里，所以需要拨打国际电话告诉它参数生成密钥。&lt;br&gt;
最后再用这组激活ID和产品ID为参数用某种算法去激活系统。这个算法在系统中内置，而且可能会Update。所以一旦来自多个IP的多个产品通过这一个密钥来激活，肯定是盗版出现，所以微软就会封掉密钥，也就无法进行激活了。&lt;br&gt;
还有一种激活工具甚至连破解都懒得去做，直接采用替换系统文件的方式来达到激活目的。通过修改slmgr.vbs让系统强制通过验证,，实就是让没有验证的系统也写上windows已激活的标志而已，该软件如果通过upgrade或者其他任何方式与微软链接都会立即被查出。&lt;br&gt;
将该软件解包后会出现另一个EXE文件，再次解包后才会出现源文件，其实就是一个替换的批处理，除了替换一些dll外还会修改slmgr.vbs。&lt;br&gt;
修改的结果就是无论系统是否通过正版验证都会提示是正版的，其实根本就没有激活，使用中也会出现黑屏状态，显示未激活。&lt;br&gt;
说了那么多盗版系统，那么什么是正版系统呢？有什么优势呢？非常简单，从微软官网下载的原版系统，并使用合法途径购买密钥进行激活的操作系统即为正版系统。正版系统运行比较稳定，不会发生黑屏蓝屏等现象，不会阉割功能。如果你购买的的电商整机，出于成本考虑，一般都会预装未激活原版系统，而笔记本一般情况会预装正版已激活系统。&lt;br&gt;
当然，原版系统的全部功能和正版系统是一样安全的，只是会缺少部分功能。比如右下角水印，个性化设置等。所以如果你想在使用电脑时更省心，更专注，那么还是购买正版系统吧！&lt;/p&gt;
">用了这么多年盗版Windows 不想知道与正版有啥不同吗？</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/android-keystore-sheng-cheng-yi-ji-zuo-yong/"" data-c="
          &lt;p&gt;APK签名用处主要有两种&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;使用特殊的key签名可以获取到一些不同的权限。&lt;/li&gt;
&lt;li&gt;APK如果使用一个key签名，发布时另一个key签名的文件将无法安装或覆盖老的版本，这样可以防止你已安装的应用被恶意的第三方覆盖或替换掉&lt;!--more--&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;生成方法&#34;&gt;生成方法：&lt;/h2&gt;
&lt;p&gt;dos下进入JDK的bin目录，运行如下命令:&lt;br&gt;
&lt;code&gt;keytool -genkey -alias android.keystore -keyalg RSA -validity 20000 -keystore android.keystore&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;(-validity 20000代表有效期天数)，命令完成后，bin目录中会生成&lt;code&gt;android.keystore&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;如何查看呢&#34;&gt;如何查看呢？&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;keytool -list -keystore &amp;quot;android.keystore&amp;quot;&lt;/code&gt;   输入你设置的&lt;code&gt;keystore&lt;/code&gt;密码即可&lt;/p&gt;
&lt;h2 id=&#34;获取sha1密文和md5密文&#34;&gt;获取SHA1密文和MD5密文&lt;/h2&gt;
&lt;p&gt;说明：google map v1接口申请apikey的时候需要MD5，而v2接口需要SHA1密文获取密文都需要android 的app.keystore即打包时候用的密钥&lt;/p&gt;
&lt;p&gt;在eclipse 开发的时候默认的会用eclipse生成的debug.keystore&lt;/p&gt;
&lt;p&gt;我们以debug.keystore为例生成SHA1 和MD5&lt;/p&gt;
&lt;p&gt;请按照如下步骤执行&lt;/p&gt;
&lt;p&gt;1，首先要找到eclipse的debug.keystore文件所在目录&lt;/p&gt;
&lt;p&gt;默认情况下它和虚拟机AVD存放在一起，XP以上系统的路径是：&lt;code&gt;C:\Users\your_user_name\.android\&lt;/code&gt;，也可以通过Eclipse中的&lt;code&gt;Windows &amp;gt; Prefs &amp;gt; Android &amp;gt; Build&lt;/code&gt;来查看这个路径。文件名叫debug.keystore。&lt;/p&gt;
&lt;h3 id=&#34;用keytool-获取sha1和md5&#34;&gt;用keytool 获取SHA1和MD5&lt;/h3&gt;
&lt;p&gt;1，keytool工具是JDK自带的工具，安装了JDK之后，找到安装目录keytool就在jdk的bin目录下，&lt;/p&gt;
&lt;p&gt;我的jdk目录是&lt;code&gt;C:\Program Files\Java\jdk1.6.0_21\bin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;2，在cmd命令行里运行下列命令：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;keytool -list -v -keystore &amp;quot;C:\Users\your_user_name\.android\debug.keystore&amp;quot; -alias android&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;就显示一大堆东西，其中就有证书指纹：&lt;code&gt;SHA1&lt;/code&gt;和&lt;code&gt;MD5&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;** 这里说明一下：上面的 &lt;code&gt;C:\Users\your_user_name\.android\debug.keystore&lt;/code&gt;就是我的&lt;code&gt;debug.keystore&lt;/code&gt;的所在位置 **&lt;/p&gt;
">Android Keystore 生成以及作用</a>
      </div>
      
      <div class="item">
        <a class="result-title" style="opacity: 0;" href="https://yangpenghe.ml/post/adb-ming-ling-shua-ji/"" data-c="
          &lt;p&gt;今天，收到了一部手机，音量键坏了，而且官网没有线刷固件包只有卡刷包。&lt;/p&gt;
&lt;!--more--&gt;
&lt;h2 id=&#34;资源&#34;&gt;资源&lt;/h2&gt;
&lt;p&gt;在网上找了很久都没有找到线刷包，个人认为是因为没有官方固件，地三方包制作起来比较麻烦，所以就没有了，只有卡刷包。最终我还是选择了官方的固件。&lt;/p&gt;
&lt;h2 id=&#34;adb工具&#34;&gt;ADB工具&lt;/h2&gt;
&lt;p&gt;Adb是Android SDK里的一个工具, 用这个工具可以直接操作管理android设备. 它的主要功能有:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;运行设备的shell(命令行)&lt;/li&gt;
&lt;li&gt;管理模拟器或设备的端口映射&lt;/li&gt;
&lt;li&gt;计算机和设备之间上传/下载文件&lt;/li&gt;
&lt;li&gt;将本地apk软件安装至Android设备&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ADB是一个 客户端-服务器端 程序, 其中客户端是你用来操作的电脑, 服务器端是Android设备.&lt;/p&gt;
&lt;h3 id=&#34;常用命令&#34;&gt;常用命令&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;查看设备&lt;br&gt;
adb devices&lt;br&gt;
这个命令是查看当前连接的设备, 连接到计算机的android设备或者模拟器将会列出显示&lt;/li&gt;
&lt;li&gt;安装软件&lt;br&gt;
adb install &amp;lt;apk文件路径&amp;gt;&lt;br&gt;
这个命令将指定的apk文件安装到设备上&lt;/li&gt;
&lt;li&gt;卸载软件&lt;br&gt;
adb uninstall &amp;lt;软件名&amp;gt;&lt;br&gt;
adb uninstall -k &amp;lt;软件名&amp;gt;&lt;br&gt;
如果加 -k 参数,为卸载软件但是保留配置和缓存文件.&lt;/li&gt;
&lt;li&gt;登录设备shell&lt;br&gt;
adb shell&lt;br&gt;
adb shell  &amp;lt; command命令 &amp;gt;&lt;br&gt;
这个命令将登录设备的shell.&lt;br&gt;
后面加&amp;lt; command命令 &amp;gt;将是直接运行设备命令, 相当于执行远程命令&lt;/li&gt;
&lt;li&gt;从电脑上发送文件到设备&lt;br&gt;
adb push &amp;lt;本地路径&amp;gt; &amp;lt;远程路径&amp;gt;&lt;br&gt;
用push命令可以把本机电脑上的文件或者文件夹复制到设备(手机)&lt;/li&gt;
&lt;li&gt;从设备上下载文件到电脑&lt;br&gt;
adb pull &amp;lt;远程路径&amp;gt; &amp;lt;本地路径&amp;gt;&lt;br&gt;
用pull命令可以把设备(手机)上的文件或者文件夹复制到本机电脑&lt;/li&gt;
&lt;li&gt;显示帮助信息&lt;br&gt;
adb help&lt;br&gt;
这个命令将显示帮助信息&lt;/li&gt;
&lt;li&gt;删除文件命令:&lt;br&gt;
adb shell rm -f &amp;lt;文件路径&amp;gt;&lt;br&gt;
还有很多命令，大家自行搜索ADB命令&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;刷机教程&#34;&gt;刷机教程&lt;/h2&gt;
&lt;blockquote&gt;
&lt;h1 id=&#34;以下教程均在手机已经获取root权限的前提下&#34;&gt;以下教程均在手机已经获取Root权限的前提下&lt;/h1&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;刷systemimg&#34;&gt;刷System.img&lt;/h3&gt;
&lt;p&gt;把你的system.img文件放到c盘根目录下，&lt;br&gt;
并执行以下命令&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;adb root
adb shell mount /sdcard
adb shell push c:\system.img /sdcard/
adb shell ./data/flash_image system /sdcard/system.img
adb shell reboot
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;刷bootimg&#34;&gt;刷boot.img&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;adb root
adb shell mount /sdcard
adb shell push c:\boot.img /sdcard/
adb shell ./data/flash_image boot /sdcard/boot.img
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&#34;刷recovery&#34;&gt;刷recovery&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;adb root
adb shell mount /sdcard
adb shell push c:\recovery.img /sdcard/
adb shell ./data/flash_image recovery /sdcard/recovery.img
&lt;/code&gt;&lt;/pre&gt;
">ADB命令刷机</a>
      </div>
      
    </div>
    <div class="page">
      <div id="page_ul"></div>
    </div>
  </div>
</div>
<script>
  !function () {
    let searchMask = document.querySelector('#search_mask');
    let result = document.querySelector('#result');
    let items = document.querySelectorAll('.item');
    let searchBox = document.querySelector('#search');
    let statCount = document.querySelector('#stat_count');
    let statTimes = document.querySelector('#stat_times');
    let pageUl = document.querySelector('#page_ul');
    let close = document.querySelector('#close');
    
    close.addEventListener('click', function() {
      searchMask.style = 'display: none;'
    })

    let finds = [];
    let contents = [];
    let pageSize = 10;
    items.forEach(item => {
      let a = item.querySelector('a');
      contents.push({
        title: a.innerText,
        details: a.dataset.c,
        link: a.href
      })
      item.remove();
    })

    function insertStr(soure, start, count) {
      let newStr = soure.substr(start, count);
      return soure.slice(0, start) + '<em>' + newStr + '</em>' + soure.slice(start + count);
    }

    pageUl.addEventListener('click', function(event) {
      let target = event.target;
      if (target.__proto__ === HTMLSpanElement.prototype) {
        appendResults(parseInt(target.dataset.i));
      }
    })

    function appendResults(index) {
      let htmlResult = '';
      let start = index || 0;
      let end = Math.min(start + pageSize, finds.length);
      for (let i = start; i < end; i++) {
        const current = finds[i];
        let html = current.title;
        let sum = 0;
        let positions = current.positions;
        positions.forEach(position => {
          html = insertStr(html, position.start + sum, position.count);
          sum += 9;
        })
        htmlResult += `<div class="item"><a class="result-title" href="${current.link}">${html}</a></div>`;
      }
      result.innerHTML = htmlResult;
      pageUl.innerHTML = '';
      let count = finds.length / pageSize;
      let lis = '';
      if (start !== 0) {
        lis += `<span class="fa fa-angle-left" data-i='${start - 1}'></span>`;
      }
      for (let i = 0; i < count; i++) {
        lis += `<span class='${i === start?'current':''}' data-i='${i}'>${i+1}</span>`;     
      }
      if (start+1 < count) {
        lis += `<span class="fa fa-angle-right" data-i='${start+1}'></span>`;  
      }
      pageUl.innerHTML = lis;
    }

    function search(delay) {
      let timer = null
      return function () {
        clearTimeout(timer)
        timer = setTimeout(() => {
          let start = Date.now();
          let segments = searchBox.value.split(' ').filter(c => c != '');
          if (segments.length <= 0) {
            return;
          }
          finds = [];
          let htmlResult = '';
          contents.forEach(content => {
            let title = content.title;
            let positions = [];
            let find = false;
            segments.forEach((segment) => {
              if (content.title.includes(segment)) {
                find = true;
                positions.push({
                  start: content.title.indexOf(segment),
                  count: segment.length
                })
              } else if (content.details.includes(segment)) {
                find = true;
              }
            });
            if (find) {
              finds.push({
                title: content.title,
                link: content.link,
                positions
              });
            }
          })
          appendResults(0);
          statCount.textContent = finds.length;
          statTimes.textContent = Date.now() - start;
        }, delay)
      }
    }
    searchBox.addEventListener('input', search(200));
  }()
</script>

<input hidden id="copy" />
<script>
  !function () {
    let times = document.querySelectorAll('.publish-time');
    for (let i = 0; i < times.length; i++) {
      let date = times[i].dataset.t;
      let time = Math.floor((new Date().getTime() - new Date(date).getTime()) / 1000);
      if (time < 60) {
        str = time + '秒之前';
      } else if (time < 3600) {
        str = Math.floor(time / 60) + '分钟之前';
      } else if (time >= 3600 && time < 86400) {
        str = Math.floor(time / 3600) + '小时之前';
      } else if (time >= 86400 && time < 259200) {
        str = Math.floor(time / 86400) + '天之前';
      } else {
        str = times[i].textContent;
      }
      times[i].textContent = str;
    }
  }();
</script>

<script>
  let language = '';
  if (language !== '') {
    let map = new Map();
    if (language === 'en') {
      map.set('search', 'Search');
      map.set('category', 'Categories');
      map.set('article', 'Articles');
      map.set('tag', 'Tags');
      map.set('top', 'Top');
      map.set('publish', 'published');
      map.set('minute', ' minutes');
      map.set('read-more', 'Read More');
      map.set('view', 'View');
      map.set('words', ' words');
      map.set('category-in', 'category in');
      map.set('preview', 'Meta');
      map.set('index', 'Toc');
      map.set('no-archives', "You haven't created yet");
      map.set('archives', " articles in total");
      map.set('cloud-tags', " tags in total");
      map.set('copyright', "Copyright: ");
      map.set('author', "Author: ");
      map.set('link', "Link: ");
      map.set('leave-message', "Leave a message");
      map.set('format', "Links Format");
      map.set('site-name', "Name: ");
      map.set('site-link', "Link: ");
      map.set('site-desc', "Desc: ");
      map.set('stat', " related results, taking ");
      map.set('stat-time', " ms");
      map.set('site-img', "Image: ");
    }

    if (map.size > 0) {
      let lanElems = document.querySelectorAll('.language');
      lanElems.forEach(elem => {
        let lan = elem.dataset.lan, text = map.get(lan);
        if (elem.__proto__ === HTMLInputElement.prototype) {
          elem.placeholder = text
        } else {
          if (elem.dataset.count) {
            text = elem.dataset.count + text;
          }
          elem.textContent = text;
        }
      })
    }
  }
  //拿来主义(真香)^_^，Clipboard 实现摘自掘金 https://juejin.im/post/5aefeb6e6fb9a07aa43c20af
  window.Clipboard = (function (window, document, navigator) {
    var textArea,
      copy;

    // 判断是不是ios端
    function isOS() {
      return navigator.userAgent.match(/ipad|iphone/i);
    }
    //创建文本元素
    function createTextArea(text) {
      textArea = document.createElement('textArea');
      textArea.value = text;
      textArea.style.width = 0;
      textArea.style.height = 0;
      textArea.clientHeight = 0;
      textArea.clientWidth = 0;
      document.body.appendChild(textArea);
    }
    //选择内容
    function selectText() {
      var range,
        selection;

      if (isOS()) {
        range = document.createRange();
        range.selectNodeContents(textArea);
        selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        textArea.setSelectionRange(0, 999999);
      } else {
        textArea.select();
      }
    }

    //复制到剪贴板
    function copyToClipboard() {
      try {
        document.execCommand("Copy")
      } catch (err) {
        alert("复制错误！请手动复制！")
      }
      document.body.removeChild(textArea);
    }

    copy = function (text) {
      createTextArea(text);
      selectText();
      copyToClipboard();
    };

    return {
      copy: copy
    };
  })(window, document, navigator);

  function copyCode(e) {
    if (e.srcElement.tagName === 'SPAN' && e.srcElement.classList.contains('copy-code')) {
      let code = e.currentTarget.querySelector('code');
      var text = code.innerText;
      if (e.srcElement.textContent === '复制成功') {
        return;
      }
      e.srcElement.textContent = '复制成功';
      (function (elem) {
        setTimeout(() => {
          if (elem.textContent === '复制成功') {
            elem.textContent = '复制代码'
          }
        }, 1000);
      })(e.srcElement)
      Clipboard.copy(text);
    }
  }

  let pres = document.querySelectorAll('pre');
  pres.forEach(pre => {
    let code = pre.querySelector('code');
    let copyElem = document.createElement('span');
    copyElem.classList.add('copy-code');
    copyElem.textContent = '复制代码';
    pre.appendChild(copyElem);
    pre.onclick = copyCode
  })

</script>
<script src="/media/js/motion.js"></script>


<script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>
<script>
  var scroll = new SmoothScroll('a[href*="#"]', {
    speed: 200
  });
</script>


<script src="/media/js/mouse/love.js"></script>


<script src="/media/js/cool.js"></script>



  <div class="snow-container"></div>
  <script src="/media/js/bg/canvas-nest.js"></script>
  <script>
  const config = {
    color: '255,0,0',
    count: 88,
  };
  // Using config rendering effect at 'element'.
  const cn = new CanvasNest(document.querySelector('.snow-container'), config);
  </script>

</html>